<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"> <head>
<base href="http://bytes.com/" /><!--[if IE]></base><![endif]--> <title>Problem: &quot;java.lang.OutOfMemoryError: Java heap space&quot; while reading xml using SAX - Java  answers</title> <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /> <meta name="keywords" content="Problem,quot,java,lang,OutOfMemoryError,Java,heap,space,quot,while,reading,xml,using,SAX, Problem: &quot;java.lang.OutOfMemoryError: Java heap space&quot; while reading xml using SAX, biz,it,dev,business,information technology,development,software,programming,tech,information" /> <meta name="description" content="Problem: &quot;java.lang.OutOfMemoryError: Java heap space&quot; while reading xml using SAX. Get real Java insights and knowledge from Bytes experts." /> <link rel="canonical" href="http://bytes.com/topic/java/answers/652157-problem-java-lang-outofmemoryerror-java-heap-space-while-reading-xml-using-sax" />  <style type="text/css" id="vbulletin_css">
/**
* vBulletin 3.7.6 CSS
* Style: 'bytes.answers'; Style ID: 18
*/
@import url("clientscript/vbulletin_css/style-f0c5997b-00018.css");
</style> <link rel="stylesheet" type="text/css" href="http://bytes.com/clientscript/vbulletin_important.css?v=376" />  <script type="text/javascript" src="/clientscript/yui/yahoo-dom-event/yahoo-dom-event.js?v=376"></script> <script type="text/javascript" src="/clientscript/yui/connection/connection-min.js?v=376"></script> <script type="text/javascript" src="/clientscript/navMenu.js"></script> <script type="text/javascript" src="/clientscript/CodeTags.js"></script> <script type="text/javascript"> <!--
var SESSIONURL = "s=8b1529513e9dce0119100bb8bbb5c8ce&";
var SECURITYTOKEN = "guest";
var IMGDIR_MISC = "/images/misc";
var vb_disable_ajax = parseInt("0", 10);
window.onload = navMenuExp; 
// --> </script> <script type="text/javascript" src="/clientscript/vbulletin_global.js?v=376"></script> <link rel="alternate" type="application/rss+xml" title="Bytes RSS Feed" href="/external.php?type=RSS2" /> <link rel="alternate" type="application/rss+xml" title="Bytes - answers - RSS Feed" href="/external.php?type=RSS2&amp;forumids=310" /> <script type="text/javascript" src="http://bytes.com/clientscript/vbulletin_post_loader.js?v=376"></script> <style type="text/css" id="vbulletin_showthread_css"> <!--
	
	#links div { white-space: nowrap; }
	#links img { vertical-align: middle; }
	--> </style> </head> <body onload=""> <div class="codeBlur" id="codeBlur">&nbsp;</div> <div class="codeAbs" id="codeAbs">&nbsp;</div> <div style="margin: 0px 0px 5px 0px; padding:0px; background-color:#EEEEEE; width: 100%; z-index: 10;"> <table class="tempwrapper"> <tr> <td align="left" width="140px;"> <A HREF="http://bytes.com"><IMG SRC="http://bytes.com/images/logo4.gif" WIDTH="120px" HEIGHT="30px" BORDER="0" ALT="Connecting Tech Pros Worldwide"></A> </td> <td align="left"> <div id="menuwrapper">  <ul id="navMenubar"> <li><a class="trigger" href="/submit/question/">Ask Question</a> </li> <li><a class="trigger" href="/submit/insight/">Share Insight</a> </li> </ul>  </div> </td> <td width="250px" align="right"> <span style="font-size: 8pt;"> <a href="http://bytes.com/forums/">Forums</a> | 
		<a href="http://bytes.com/faq.php">Help</a> | 
		<a href="http://bytes.com/sitemap/">Site Map</a> </span> </td> </tr> </table> <table class="tempwrapper"> <tr> <td width="70%"> <div id="login_box"> <ul> <li> <a href="/register/" style="color:#9a325c">Join Bytes</a> </li> <li> <a href="http://bytes.com/topic/java/answers/652157-problem-java-lang-outofmemoryerror-java-heap-space-while-reading-xml-using-sax#" onclick="showlayer('login_menu')">Login</a> </li> <div id="login_menu" style="display:none;"> <div id="new-user-col">new member:<br /><br /> <a href="/register/" class="green-button" rel="nofollow">Register</a> </div> <div id="signup-user-col">
						member login:<br /><br /> <form action="http://bytes.com/login.php?do=login" method="post" onsubmit="md5hash(vb_login_password, vb_login_md5password, vb_login_md5password_utf, 0)"> <ul> <li> <label for="navbar_password">User Name</label> <input type="text" class="bginput" style="font-size: 9pt" name="vb_login_username" id="navbar_username" size="10" accesskey="u" tabindex="101"/> </li> <li> <label for="navbar_password">Password</label> <input type="password" class="bginput" style="font-size: 9pt" name="vb_login_password" id="navbar_password" size="10" tabindex="102" /> </li> <input type="submit" class="button" value="Log in" tabindex="104" title="Enter your username and password in the boxes provided to login, or click the 'register' button to create a profile for yourself." accesskey="s" /> </ul> <input type="hidden" name="s" value="8b1529513e9dce0119100bb8bbb5c8ce" /> <input type="hidden" name="do" value="login" /> <input type="hidden" name="vb_login_md5password" /> <input type="hidden" name="vb_login_md5password_utf" /> <input type="hidden" name="cookieuser" value="1" /> </form> <br /> <a href="http://bytes.com/login.php?do=lostpw" rel="nofollow">lost password?</a> </div> <div class="spacer"></div> </div> <li>
					network: 228,916 

(4508 online)

					</li> </ul> </div> </td> <td width="30%" align="right"> <form action="http://bytes.com/search.php" method="post" name="search"> <input type="hidden" name="do" value="process" /> <input type="hidden" name="showposts" value="0" /> <input type="hidden" name="quicksearch" value="1" /> <input type="hidden" name="forumchoice[]" value="" /> <input type="text" name="query" size="20" value="Search" onfocus="this.value=''" /> <input type="submit" value="Go" name="gobutton"> </form> </td> </tr> </table> </div> <div class="adtable"> <div style="margin: 0px; padding: 0px; width: 740px; text-align:center"> </div> </div>  <div class="navtable"> <div class="navbar_box"> <a href="/" accesskey="1">bytes</a> <span class="navbar">&gt; <a href="http://bytes.com/topic/">topic</a></span> <span class="navbar">&gt; <a href="http://bytes.com/topic/java/">java</a></span> <span class="navbar">&gt; <a href="http://bytes.com/topic/java/answers/">answers</a></span> </div> </div> <table class="maintable"> <tr> <td valign="top"> <table width="625px" border="0" cellspacing="0" cellpadding="0"> <tr> <td height="1000px" valign="top">  <a name="poststop" id="poststop"></a>  <h1 style="font-size: 15pt; padding: 0px; margin-bottom: 10px;">Problem: &quot;java.lang.OutOfMemoryError: Java heap space&quot; while reading xml using SAX</h1>   <div id="posts">  <div id="edit2585774" style="padding:0px 0px 6px 0px">  <table class="tborder" id="post2585774" cellpadding="6" cellspacing="1" border="0" width="100%" align="center" style="margin-bottom: 10px;"> <tr> <td class="alt2" style="padding:0px">  <table cellpadding="0" cellspacing="6" border="0" width="100%"> <tr> <td class="alt2"><a href="http://bytes.com/profile/109351/blazedaces/"><img src="http://bytes.com/avatars/blazedaces-109351.gif?dateline=1181020433" width="50" height="50" alt="blazedaces's Avatar" border="0" /></a></td> <td nowrap="nowrap"> <div id="postmenu_2585774"> <a class="bigusername" href="http://bytes.com/profile/109351/blazedaces/">blazedaces</a> <img class="inlineimg" src="/images/statusicon/user_offline.gif" alt="blazedaces is offline" border="0" /> </div> <div class="smallfont">Needs Regular Fix</div> </td> <td width="100%">&nbsp;</td> <td valign="top" nowrap="nowrap"> <div style="line-height: 13px; font-size: 8pt; color: #999999;"> <div>Join Date: May 2007</div> <div>
						Posts: 280
					</div> <div> </div>  <div> <a name="post2585774"></a>
					#<a href="http://bytes.com/topic/java/answers/652157-problem-java-lang-outofmemoryerror-java-heap-space-while-reading-xml-using-sax#post2585774"  id="postcount2585774" name="1" title="permalink">1</a>: 
					
						May 24 '07
					
					
					</div> </div> </td> </tr> </table>  </td> </tr> <tr> <td class="alt1" id="td_post_2585774">   <div id="post_message_2585774">
			
			Ok, so you know my problem, java is running out of memory reading with SAX, the event-based xml parser intended more-so than DOM for extremely large files.  I'll try to explain what I've been doing and why I have to do it.  Hopefully someone has a suggestion...<br /> <br />
Alright, so I'm using a gps-simulation program that outputs gps data, like longitude, lattitude, altitude, etc. (hundreds of terms, these are just the well known ones).  In the newer version the data is outputed in an xml sheet.  In prior versions the outputted data for a 2-hour scenario was about 30-80 megabytes.  Now, the one xml sheet (they wanted to be stupidly efficient) is over 200 megabytes, granted scenarios/simulations can run for over 24 hours you can see the problem I had when told &quot;we need a new program to read in the new version data when we won't be able to get old version stuff anymore&quot;.  Note: no one at the company even knew what xml really was, and my knowledge extended to... &quot;xml sounds like html right?&quot;<br /> <br />
We have a program for graphing in Matlab, so in the end it has to be in Matlab.  So first I look at what Matlab has for xml reading: DOM.  DOM reads ALL the data in an xml file and then creates a &quot;tree&quot; within which you can look at the data.  So to make things simple, DOM separates the navigation and data-collecting of the xml file.  First, sets up its &quot;tree&quot; and then lets you navigate to wherever you want.  This has obvious drawbacks, but the main one I cared about was its bad when reading extremely large files that you don't need every bit of data read from.<br /> <br />
So, the alternative: SAX.  SAX merges navigation and data-collection by using an &quot;event-based&quot; parser.  The events we care most about are probably &quot;startElement&quot;, &quot;endElement&quot;, and &quot;characters&quot;.  You can imagine what these three do.<br /> <br />
Unfortunately, Matlab doesn't have an xml reader capable of utilizing SAX's capabilities, though, nothing really does.  To utilize sax you have to write a program that tells the SAX reader what to do when an event occurs.  SAX was originally written in java, so I can write the program in java, and Matlab has its own JVM so I can utilize java classes in Matlab (not easy).<br /> <br />
Ok, so it felt like this when I finally gathered this knowledge: &quot;so all I have to do is write a Java program that uses this SAX thing, then use Matlab to run the program, store the data points in memory and transfer them to Matlab, one after the other, then simply do what I did with the previous version data, put it in our 'graphing program'.&quot;<br /> <br />
After 2 weeks of extensive research into SAX, java, Matlab, and extensive programming, here I am.  The parser program in java was done, I know how to utilize it in Matlab, and it was reading the xml files (the test ones I made for 5 second scenarios were 2 mb or so large) perfectly!  Now I finally tested it out on the big file, but to no avail, too little memory (the present).<br /> <br />
I just want to say that before I did this I didn't know what a is jar file, what is java's class path, what are try/catch/exceptions, what are impliments/interfaces and extensions.  And most of all I knew absolutely nothing about SAX, which is hard enough to work with once you understand it fully.<br /> <br />
I'm not saying this to be proud, I just wanted to point out I still think of myself as  a novice if that when it comes to all this, as why I'm asking for help here...<br /> <br />
Anyways, now that you guys know the background (thought it might help) do you have any suggestions to help avoid the problem of too much space needed?  The only solution that comes to mind is something like reading part of the file, then storing it in a separate file on the hard drive (just the data I need out of it), closing that file, clearing all my data in memory at the time and repeating till I get to the end.  Any other suggestions guys?<br /> <br />
Thanks, all your help is much appreciated,<br />
-blazed
		</div>   </td> </tr> </table> </div>  <div> <script language="JavaScript" src="http://bytes.com/casus/as_header.js"></script> <script language="JavaScript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script> <div style="clear:both"></div> </div> <br>  <div id="edit2585841" style="padding:0px 0px 6px 0px">  <table class="tborder" id="post2585841" cellpadding="6" cellspacing="1" border="0" width="100%" align="center" style="margin-bottom: 10px;"> <tr> <td class="alt2" style="padding:0px">  <table cellpadding="0" cellspacing="6" border="0" width="100%"> <tr> <td class="alt2"><a href="http://bytes.com/profile/96943/josah/"><img src="http://bytes.com/avatars/josah-96943.gif?dateline=1228930595" width="15" height="15" alt="JosAH's Avatar" border="0" /></a></td> <td nowrap="nowrap"> <div id="postmenu_2585841"> <a class="bigusername" href="http://bytes.com/profile/96943/josah/">JosAH</a> <img class="inlineimg" src="/images/statusicon/user_offline.gif" alt="JosAH is offline" border="0" /> </div> <div class="smallfont"><span style="color: #FF4F00">Expert</span></div> </td> <td width="100%">&nbsp;</td> <td valign="top" nowrap="nowrap"> <div style="line-height: 13px; font-size: 8pt; color: #999999;"> <div>Join Date: Mar 2007</div> <div>
						Posts: 10,611
					</div> <div> </div>  <div> <a name="post2585841"></a>
					#<a href="http://bytes.com/topic/java/answers/652157-problem-java-lang-outofmemoryerror-java-heap-space-while-reading-xml-using-sax#post2585841"  id="postcount2585841" name="2" title="permalink">2</a>: 
					
						May 24 '07
					
					
					</div> </div> </td> </tr> </table>  </td> </tr> <tr> <td class="alt1" id="td_post_2585841">   <div> <h2 style="margin: 0px; padding: 0px; color: #a8a8a8; font-size: 9pt;">re: Problem: &quot;java.lang.OutOfMemoryError: Java heap space&quot; while reading xml using SAX</h2> </div> <hr size="1" style="color:#eee; background-color: #eee;" />   <div id="post_message_2585841">
			
			I suspect that you're doing things this way now:<br /> <br />
1) start your SAX parser<br />
2) your Handler(s) build up an entire datastructure<br />
3) you spit out everything to Matlab;<br />
4) done.<br /> <br />
This is an &quot;off-line&quot; approach which is essentially what a DOM does: collect<br />
the whole shebang from some xml source and build up the entire tree. Can't<br />
you use a &quot;streaming&quot; or &quot;on-line&quot; approach:<br /> <br />
1) start your SAX parser<br />
2) your Handler(s) build up a bit of data<br />
3) spit it out to Matlab and forget about it<br />
4) if more to parse repeat steps 2 and 3<br />
5) done.<br /> <br />
This way you can  forget about the small parts of data you've collected and,<br />
the most important part, that data will be released so you don't need to keep<br />
humongous amounts of data in core.<br /> <br />
kind regards,<br /> <br />
Jos (&lt;--- sincerely *hates* xml)
		</div>   </td> </tr> </table> </div>  <div id="edit2585896" style="padding:0px 0px 6px 0px">  <table class="tborder" id="post2585896" cellpadding="6" cellspacing="1" border="0" width="100%" align="center" style="margin-bottom: 10px;"> <tr> <td class="alt2" style="padding:0px">  <table cellpadding="0" cellspacing="6" border="0" width="100%"> <tr> <td class="alt2"><a href="http://bytes.com/profile/109351/blazedaces/"><img src="http://bytes.com/avatars/blazedaces-109351.gif?dateline=1181020433" width="50" height="50" alt="blazedaces's Avatar" border="0" /></a></td> <td nowrap="nowrap"> <div id="postmenu_2585896"> <a class="bigusername" href="http://bytes.com/profile/109351/blazedaces/">blazedaces</a> <img class="inlineimg" src="/images/statusicon/user_offline.gif" alt="blazedaces is offline" border="0" /> </div> <div class="smallfont">Needs Regular Fix</div> </td> <td width="100%">&nbsp;</td> <td valign="top" nowrap="nowrap"> <div style="line-height: 13px; font-size: 8pt; color: #999999;"> <div>Join Date: May 2007</div> <div>
						Posts: 280
					</div> <div> </div>  <div> <a name="post2585896"></a>
					#<a href="http://bytes.com/topic/java/answers/652157-problem-java-lang-outofmemoryerror-java-heap-space-while-reading-xml-using-sax#post2585896"  id="postcount2585896" name="3" title="permalink">3</a>: 
					
						May 24 '07
					
					
					</div> </div> </td> </tr> </table>  </td> </tr> <tr> <td class="alt1" id="td_post_2585896">   <div> <h2 style="margin: 0px; padding: 0px; color: #a8a8a8; font-size: 9pt;">re: Problem: &quot;java.lang.OutOfMemoryError: Java heap space&quot; while reading xml using SAX</h2> </div> <hr size="1" style="color:#eee; background-color: #eee;" />   <div id="post_message_2585896"> <div style="margin:20px; margin-top:5px; border-left: 2px #ccc solid; padding-left: 10px; font-size: 11px; color: #666; line-height: 18px; "> <div style="margin-bottom:2px; font-size: 11px;">Quote:</div> <p>
					Originally Posted by <strong>JosAH</strong> </p> <p style="font-style:italic">I suspect that you're doing things this way now:<br /> <br />
1) start your SAX parser<br />
2) your Handler(s) build up an entire datastructure<br />
3) you spit out everything to Matlab;<br />
4) done.<br /> <br />
This is an &quot;off-line&quot; approach which is essentially what a DOM does: collect<br />
the whole shebang from some xml source and build up the entire tree. Can't<br />
you use a &quot;streaming&quot; or &quot;on-line&quot; approach:<br /> <br />
1) start your SAX parser<br />
2) your Handler(s) build up a bit of data<br />
3) spit it out to Matlab and forget about it<br />
4) if more to parse repeat steps 2 and 3<br />
5) done.<br /> <br />
This way you can  forget about the small parts of data you've collected and,<br />
the most important part, that data will be released so you don't need to keep<br />
humongous amounts of data in core.<br /> <br />
kind regards,<br /> <br />
Jos (&lt;--- sincerely *hates* xml)</p> </div>Great idea, and I will definitely decide to do it that way <i>when I impliment matlab</i> but if it can't just store the data in vectors of vectors in java, how will it store it all in matlab's variables?  <br /> <br />
Like when you say &quot;3) spit it out to Matlab and forget about it&quot; isn't that just allocating a different spot in memory?<br /> <br />
I think though, that off of your idea of using the &quot;on-line&quot; solution and then as it goes to matlab instead of forgetting about it, process it as I need (actually, almost no processing is necessary except maybe converting radians to degrees) and store it somehow as a saved file in hard drive, close the file and clear previous memory (forget about it as you say).<br /> <br />
You might have meant that and I'm misunderstanding, if so, I apologize.<br /> <br />
The other idea I'm coming up with has to do with the data I'm collecting.  I could specify what data to look for, do one &quot;run&quot;, collect that (using the on-line approach) and store it where I need it, then do another one for the next amount of data I decide upon.  For example: read the header section, save it in text file called header information, read the signal information, save graph program of signal info, read position info (lat, long, alt, ecef-x,y,z, etc.), save, etc.<br /> <br />
Thanks again,<br />
-blazed (&lt;--- also hates xml)<br /> <br />
P.S. I'm also thinking of other things to improve the memory-efficiency of my program.  When I wrote this, to be lazy with the programming I stored everything as a string, maybe I should be specific, storing things I know as integers or doubles as that, saving a lot of space in the long run probably.<br /> <br />
Also, don't know how much it matters, but changing all those for loops ( int i = 0; i &lt; length; i++) to unsigned int (does that save space or just let the number go to a doubly higher positive integer?)...
		</div>   </td> </tr> </table> </div>  <div id="edit2585942" style="padding:0px 0px 6px 0px">  <table class="tborder" id="post2585942" cellpadding="6" cellspacing="1" border="0" width="100%" align="center" style="margin-bottom: 10px;"> <tr> <td class="alt2" style="padding:0px">  <table cellpadding="0" cellspacing="6" border="0" width="100%"> <tr> <td class="alt2"><a href="http://bytes.com/profile/96943/josah/"><img src="http://bytes.com/avatars/josah-96943.gif?dateline=1228930595" width="15" height="15" alt="JosAH's Avatar" border="0" /></a></td> <td nowrap="nowrap"> <div id="postmenu_2585942"> <a class="bigusername" href="http://bytes.com/profile/96943/josah/">JosAH</a> <img class="inlineimg" src="/images/statusicon/user_offline.gif" alt="JosAH is offline" border="0" /> </div> <div class="smallfont"><span style="color: #FF4F00">Expert</span></div> </td> <td width="100%">&nbsp;</td> <td valign="top" nowrap="nowrap"> <div style="line-height: 13px; font-size: 8pt; color: #999999;"> <div>Join Date: Mar 2007</div> <div>
						Posts: 10,611
					</div> <div> </div>  <div> <a name="post2585942"></a>
					#<a href="http://bytes.com/topic/java/answers/652157-problem-java-lang-outofmemoryerror-java-heap-space-while-reading-xml-using-sax#post2585942"  id="postcount2585942" name="4" title="permalink">4</a>: 
					
						May 24 '07
					
					
					</div> </div> </td> </tr> </table>  </td> </tr> <tr> <td class="alt1" id="td_post_2585942">   <div> <h2 style="margin: 0px; padding: 0px; color: #a8a8a8; font-size: 9pt;">re: Problem: &quot;java.lang.OutOfMemoryError: Java heap space&quot; while reading xml using SAX</h2> </div> <hr size="1" style="color:#eee; background-color: #eee;" />   <div id="post_message_2585942">
			
			There's another option: the java JVM has a flag that tells it how large the heap<br />
is allowed to grow: <div id="codeHolder" class="codeHolder" style="width: 500px;"> <div class="codeHeader"> <span class="codeLink" onclick="Blur(this, this.parentNode.parentNode, getChildren(this),true);">Expand</span><span class="codeDivider">|</span><span class="codeLink" onclick="selectAll(this);">Select</span><span class="codeDivider">|</span><span class="codeLink" onclick="WordWrap(this);">Wrap</span><span class="codeDivider">|</span><span class="codeLink" onclick="LineNumbers(this);">Line Numbers</span> </div> <div class="codeContent" style="display: block; width: 500px; white-space: nowrap;"> <ol START="1" highlight="true"> <li class="codeLI">
java&nbsp;-Xmx512m&nbsp;YourApplication</li> </ol> </div> </div> 


or try larger numbers if you have the memory. Those xml related things are always<br />
a bad memory hog.<br /> <br />
kind regards,<br /> <br />
Jos<br /> <br />
ps. There are no 'unsigned' ints/longs in Java and they don't take up less space<br />
either ;-)
		</div>   </td> </tr> </table> </div>  <div id="edit2585970" style="padding:0px 0px 6px 0px">  <table class="tborder" id="post2585970" cellpadding="6" cellspacing="1" border="0" width="100%" align="center" style="margin-bottom: 10px;"> <tr> <td class="alt2" style="padding:0px">  <table cellpadding="0" cellspacing="6" border="0" width="100%"> <tr> <td class="alt2"><a href="http://bytes.com/profile/109351/blazedaces/"><img src="http://bytes.com/avatars/blazedaces-109351.gif?dateline=1181020433" width="50" height="50" alt="blazedaces's Avatar" border="0" /></a></td> <td nowrap="nowrap"> <div id="postmenu_2585970"> <a class="bigusername" href="http://bytes.com/profile/109351/blazedaces/">blazedaces</a> <img class="inlineimg" src="/images/statusicon/user_offline.gif" alt="blazedaces is offline" border="0" /> </div> <div class="smallfont">Needs Regular Fix</div> </td> <td width="100%">&nbsp;</td> <td valign="top" nowrap="nowrap"> <div style="line-height: 13px; font-size: 8pt; color: #999999;"> <div>Join Date: May 2007</div> <div>
						Posts: 280
					</div> <div> </div>  <div> <a name="post2585970"></a>
					#<a href="http://bytes.com/topic/java/answers/652157-problem-java-lang-outofmemoryerror-java-heap-space-while-reading-xml-using-sax#post2585970"  id="postcount2585970" name="5" title="permalink">5</a>: 
					
						May 24 '07
					
					
					</div> </div> </td> </tr> </table>  </td> </tr> <tr> <td class="alt1" id="td_post_2585970">   <div> <h2 style="margin: 0px; padding: 0px; color: #a8a8a8; font-size: 9pt;">re: Problem: &quot;java.lang.OutOfMemoryError: Java heap space&quot; while reading xml using SAX</h2> </div> <hr size="1" style="color:#eee; background-color: #eee;" />   <div id="post_message_2585970"> <div style="margin:20px; margin-top:5px; border-left: 2px #ccc solid; padding-left: 10px; font-size: 11px; color: #666; line-height: 18px; "> <div style="margin-bottom:2px; font-size: 11px;">Quote:</div> <p>
					Originally Posted by <strong>JosAH</strong> </p> <p style="font-style:italic">There's another option: the java JVM has a flag that tells it how large the heap<br />
is allowed to grow: <div id="codeHolder" class="codeHolder" style="width: 500px;"> <div class="codeHeader"> <span class="codeLink" onclick="Blur(this, this.parentNode.parentNode, getChildren(this),true);">Expand</span><span class="codeDivider">|</span><span class="codeLink" onclick="selectAll(this);">Select</span><span class="codeDivider">|</span><span class="codeLink" onclick="WordWrap(this);">Wrap</span><span class="codeDivider">|</span><span class="codeLink" onclick="LineNumbers(this);">Line Numbers</span> </div> <div class="codeContent" style="display: block; width: 500px; white-space: nowrap;"> <ol START="1" highlight="true"> <li class="codeLI">
java&nbsp;-Xmx512m&nbsp;YourApplication</li> </ol> </div> </div> 


or try larger numbers if you have the memory. Those xml related things are always<br />
a bad memory hog.<br /> <br />
kind regards,<br /> <br />
Jos<br /> <br />
ps. There are no 'unsigned' ints/longs in Java and they don't take up less space<br />
either ;-)</p> </div>I'll try using that, it'll come in handy I'm sure.<br /> <br />
I think I know what I'm doing now, thanks for everything,<br />
-blazed
		</div>   </td> </tr> </table> </div>  <div id="edit2586147" style="padding:0px 0px 6px 0px"> <table class="tborder" id="post2586147" cellpadding="6" cellspacing="1" border="0" width="100%" align="center" style="margin-bottom: 10px;"> <tr> <td class="alt2" style="padding:0px">  <table cellpadding="0" cellspacing="6" border="0" width="100%"> <tr> <td class="alt2"><a href="http://bytes.com/profile/96943/josah/"><img src="http://bytes.com/avatars/josah-96943.gif?dateline=1228930595" width="15" height="15" alt="JosAH's Avatar" border="0" /></a></td> <td nowrap="nowrap"> <div id="postmenu_2586147"> <a class="bigusername" href="http://bytes.com/profile/96943/josah/">JosAH</a> <img class="inlineimg" src="/images/statusicon/user_offline.gif" alt="JosAH is offline" border="0" /> </div> <div class="smallfont"><span style="color: #FF4F00">Expert</span></div> </td> <td width="100%">&nbsp;</td> <td valign="top" nowrap="nowrap"> <div style="line-height: 13px; font-size: 8pt; color: #999999;"> <div>Join Date: Mar 2007</div> <div>
						Posts: 10,611
					</div> <div> </div>  <div> <a name="post2586147"></a>
					#<a href="http://bytes.com/topic/java/answers/652157-problem-java-lang-outofmemoryerror-java-heap-space-while-reading-xml-using-sax#post2586147"  id="postcount2586147" name="6" title="permalink">6</a>: 
					
						May 24 '07
					
					
					</div> </div> </td> </tr> </table>  </td> </tr> <tr> <td class="alt1" id="td_post_2586147">   <div> <h2 style="margin: 0px; padding: 0px; color: #a8a8a8; font-size: 9pt;">re: Problem: &quot;java.lang.OutOfMemoryError: Java heap space&quot; while reading xml using SAX</h2> </div> <hr size="1" style="color:#eee; background-color: #eee;" />   <div id="post_message_2586147"> <div style="margin:20px; margin-top:5px; border-left: 2px #ccc solid; padding-left: 10px; font-size: 11px; color: #666; line-height: 18px; "> <div style="margin-bottom:2px; font-size: 11px;">Quote:</div> <p>
					Originally Posted by <strong>blazedaces</strong> </p> <p style="font-style:italic">I'll try using that, it'll come in handy I'm sure.<br /> <br />
I think I know what I'm doing now, thanks for everything,<br />
-blazed</p> </div>You're welcome; when you have to parse a 200MB xml file and want to store<br />
all that data in Vectors (as you wrote before) you'll end up with quite a bit more<br />
than just the size of that file. If the &quot;online&quot; approach I sketched is applicable,<br />
go for it. best of luck and<br /> <br />
kind regards,<br /> <br />
Jos
		</div>   </td> </tr> </table> </div>  <div id="lastpost"></div> </div>    <table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-top:-3px"> <tr valign="top"> <td class="smallfont"><a href="http://bytes.com/newreply.php?do=newreply&amp;noquote=1&amp;p=2586147"><img src="/images/buttons/reply.gif" alt="Reply" border="0" /></a></td> </tr> </table>   <br /> <div class="smallfont" align="center"> <strong>&laquo;</strong> <a href="http://bytes.com/topic/java/answers/652157-problem-java-lang-outofmemoryerror-java-heap-space-while-reading-xml-using-sax/prev">previous question</a>
			|
			<a href="http://bytes.com/topic/java/answers/652157-problem-java-lang-outofmemoryerror-java-heap-space-while-reading-xml-using-sax/next">next question</a> <strong>&raquo;</strong> </div>     <table cellpadding="0" cellspacing="0" border="0" width="100%" align="center"> <tr valign="bottom"> <td width="100%" valign="top"> </td> <td class="smallfont" align="right"> <table cellpadding="0" cellspacing="0" border="0"> <tr> <td> </td> </tr> </table> </td> </tr> </table>  <br /> <div class="similar"> <h3>Similar Java bytes</h3> <ul> <li> <a href="http://bytes.com/topic/c/answers/811304-c-vs-java" title="Hi all, 
 
See:-             http://www.cs.princeton.edu/introcs/faq/c2java.html 
 
for C vs Java in number crunching 
...">&quot;C vs java&quot;</a> <span>(answers)</span> </li> <li> <a href="http://bytes.com/topic/java/answers/626125-c-vs-java-new-no-flame-war-please" title="Do not take anything about this, it is not a flame or troll, while I'm not 
new to Java I favor C++. However, I may need to use it in a contract...">C++ vs Java &quot;new&quot; (no flame war please!)</a> <span>(answers)</span> </li> <li> <a href="http://bytes.com/topic/c/answers/598110-static-global-variable-memory-allocation" title="This is an interview question and I gave out my answer here, could you 
please check for me? 
 
Q. What are the memory allocation for static variable...">static, global variable memory allocation</a> <span>(answers)</span> </li> <li> <a href="http://bytes.com/topic/c/answers/480280-heap-vs-stack" title="Can someone explain what a heap and what a stack is?  And why I should 
care?  I used to know, but then I forgot.  And I can't seem to find it 
in...">&quot;heap&quot; vs &quot;stack&quot;</a> <span>(answers)</span> </li> </ul> </div>   </td> </tr> </table> </td> <td width="12" class="spacer"></td> <td width="300px" height="1000px" valign="top"> <img src="/images/sidecolumn.gif" width="300px" height="1px" border="0" style="margin: 0px; padding: 0px;"> <div class="navbox"> <h3>/bytes/development</h3> <ul class="navbox_list"> <li><a href="/topic/algorithms/">algorithms</a></li> <li><a href="/topic/asp-classic/">asp</a></li> <li><a href="/topic/asp-net/">asp.net</a></li> <li><a href="/topic/c/">c / c++</a></li> <li><a href="/topic/coldfusion/">coldfusion</a></li> <li><a href="/topic/c-sharp/">c#</a></li> <li><a href="/topic/flash/">flash</a></li> <li><a href="/topic/html-css/">html/css</a></li> <li><a href="/topic/java/">java</a></li> <li><a href="/topic/javascript/">javascript</a></li> <li><a href="/topic/mobile-development/">mobile dev</a></li> <li><a href="/topic/net/">.net</a></li> <li><a href="/topic/perl/">perl</a></li> <li><a href="/topic/php/">php</a></li> <li><a href="/topic/python/">python</a></li> <li><a href="/topic/ruby/">ruby</a></li> <li><a href="/topic/software-development/">software dev</a></li> <li><a href="/topic/visual-basic-net/">vb.net</a></li> <li><a href="/topic/visual-basic/">visual basic</a></li> <li><a href="/topic/xaml">xaml / wpf</a></li> <li><a href="/topic/xml/">xml</a></li> </ul> <div style="clear:both;"></div> </div> <div class="navbox"> <h3>/bytes/it</h3> <ul class="navbox_list"> <li><a href="/topic/access/">access</a></li> <li><a href="/topic/apache/">apache</a></li> <li><a href="/topic/careers/">careers</a></li> <li><a href="/topic/cms/">cms</a></li> <li><a href="/topic/db2/">db2</a></li> <li><a href="/topic/iis/">iis</a></li> <li><a href="/topic/macosx/">macosx</a></li> <li><a href="/topic/mysql/">mysql</a></li> <li><a href="/topic/networking/">networking</a></li> <li><a href="/topic/oracle/">oracle</a></li> <li><a href="/topic/postgresql/">postgresql</a></li> <li><a href="/topic/sql-server/">sql server</a></li> <li><a href="/topic/unix/">unix</a></li> <li><a href="/topic/windows/">windows</a></li> </ul> <div style="clear:both;"></div> </div> <div class="navbox"> <h3>/bytes/other</h3> <ul class="navbox_list"> <li><a href="/topic/misc/">misc</a></li> </ul> <div style="clear:both;"></div> </div> <div style="padding: 0px 0px 15px 0px; margin: 0px;"> </div> <div class="navbox"> <p style="padding-left: 15px";
		<strong><a href="/forums/">Forums</a></strong> <br>
		Visit our community forums for general discussions and latest on Bytes
		</p> <div style="clear:both;"></div> </div> <div class="navbox"> <h3>/bytes/about</h3> <p style="padding: 10px;">
			We are a network of experts and professionals in IT and software development that help one another with answers to tough questions and share insights.
			Get the best answers to your questions from over <strong><i>228,916</i></strong> network members. 
			</p>  </div> <div style="padding-bottom: 15px;"> </div>   </td> </tr> </table> <table class="maintable footer"> <tr> <td> <div> <strong>dev questions</strong>:<br /> <a href="/sitemap/f-341.html">algorithms</a> | 
		<a href="/sitemap/f-288.html">asp</a> | 
		<a href="/sitemap/f-329.html">asp.net</a> | 
		<a href="/sitemap/f-308.html">c/c++</a> | 
		<a href="/sitemap/f-278.html">coldfusion</a> | 
		<a href="/sitemap/f-326.html">c#</a> | 
		<a href="/sitemap/f-274.html">flash</a> | 
		<a href="/sitemap/f-298.html">html/css</a> | 
		<a href="/sitemap/f-310.html">java</a> | 
		<a href="/sitemap/f-286.html">javascript</a> |<br> <a href="/sitemap/f-271.html">mobile dev</a> | 
		<a href="/sitemap/f-312.html">.net</a> | 
		<a href="/sitemap/f-290.html">perl</a> | 
		<a href="/sitemap/f-304.html">php</a> | 
		<a href="/sitemap/f-292.html">python</a> | 
		<a href="/sitemap/f-282.html">ruby</a> | 
		<a href="/sitemap/f-280.html">software dev</a> | 
		<a href="/sitemap/f-314.html">vb.net</a> | 
		<a href="/sitemap/f-314.html">visual basic</a> | 
		<a href="/sitemap/f-276.html">xml</a> </div> <div> <strong>it questions</strong>: <br /> <a href="/sitemap/f-272.html">access</a> |
		<a href="/sitemap/f-316.html">apache</a> |
		<a href="/sitemap/f-338.html">careers</a> |
		<a href="/sitemap/f-294.html">db2</a> |
		<a href="/sitemap/f-318.html">iis</a> |
		<a href="/sitemap/f-335.html">macosx</a> |
		<a href="/sitemap/f-302.html">mysql</a> |
		<a href="/sitemap/f-320.html">networking</a> |
		<a href="/sitemap/f-296.html">oracle</a> |
		<a href="/sitemap/f-306.html">postgresql</a> |
		<a href="/sitemap/f-300.html">sql server</a> |
		<a href="/sitemap/f-322.html">unix</a> |
		<a href="/sitemap/f-283.html">windows</a> </div> <br> <A HREF="http://bytes.com/about_us.html">About Bytes</A> | Copyright 1995-2009 BYTES. All rights Reserved <br> <div class="smallfont" align="center">   </div> </td> </tr> </table> <script type="text/javascript"> <!--
	var tzOffset = 0 + 0;
	var utcOffset = new Date().getTimezoneOffset() / 60;
	if (Math.abs(tzOffset + utcOffset) == 1)
	{	// Dst offset is 1 so its changed
		document.forms.dstform.submit();
	}
//--> </script> <script type="text/javascript"> <!--
	// Main vBulletin Javascript Initialization
	vBulletin_init();
//--> </script> <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script> <script type="text/javascript">
var pageTracker = _gat._getTracker("UA-90111-7");
pageTracker._initData();
pageTracker._trackPageview();
</script>  <div style="display:none">   </div> <div class="vbmenu_popup" id="linkbacktools_menu" style="display:none"> <table cellpadding="4" cellspacing="1" border="0"> <tr> <td class="thead">LinkBack<a name="goto_linkback"></a></td> </tr> <tr> <td class="vbmenu_option"><img class="inlineimg" src="http://bytes.com/images/vbseo/linkback_url.gif" alt="LinkBack URL" /> <a href="http://bytes.com/topic/java/answers/652157-problem-java-lang-outofmemoryerror-java-heap-space-while-reading-xml-using-sax" onclick="prompt('Use the following URL when referencing this thread from another forum or blog.','http://bytes.com/topic/java/answers/652157-problem-java-lang-outofmemoryerror-java-heap-space-while-reading-xml-using-sax');return false;">LinkBack URL</a></td> </tr> <tr> <td class="vbmenu_option"><img class="inlineimg" src="http://bytes.com/images/vbseo/linkback_about.gif" alt="About LinkBacks" /> <a href="http://bytes.com/misc.php?do=linkbacks">About LinkBacks</a></td> </tr> </table> </div> 
<script type="text/javascript">

window.orig_onload = window.onload;
window.onload = function() {
var cpost=document.location.hash;if(cpost){ if(cobj = fetch_object(cpost.substring(1,cpost.length)))cobj.scrollIntoView(true);else {cpostno = cpost.substring(5,cpost.length);if(parseInt(cpostno)>0 && (cpost.substring(1,5)=='post')){location.replace('http://bytes.com/showthread.php?p='+cpostno);};} }

if(typeof window.orig_onload == "function") window.orig_onload();
}

</script>
</body> </html>

<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  <title>   Program Transformation Wiki / Java Abstract Syntax</title>
  <link rel="alternate" href="/view/Transform/WebRss?skin=rss" type="application/rss+xml" title="Recent Changes" />
  <link rel="shortcut icon" href="http://www.cs.uu.nl/favicon.ico" type="image/x-icon" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  
  <style type="text/css" media="all">
	 @import url("http://www.program-transformation.org/pub/TWiki/FlexPatternSkin/layout.css");
	 @import url("http://www.program-transformation.org/pub/TWiki/FlexPatternSkin/style.css");
	 @import url("http://www.program-transformation.org/pub/TWiki/FlexPatternSkin/flexmenu.css");
	 .twikiToc li {
		list-style-image:url(http://www.program-transformation.org/pub/TWiki/FlexPatternSkin/i_arrow_down.gif);
	 }
  </style>
  <style type="text/css" media="all"></style>
  <script type="text/javascript">
  <!-- HIDE
	function initPage() { }
  -->
  </script>
  <script type="text/javascript" src="http://www.program-transformation.org/pub/TWiki/FlexPatternSkin/flexmenu.js"></script>

</head>
<body class="twikiViewPage" onload="initPage()"><div class="fullPage">
<div class="twikiMiddleContainer"><div class="twikiLeftBar">
  <div class="twikiLeftBarContents">
    <center>
  <img src="http://www.program-transformation.org/pub/transformation.gif" />
</center>
<hr width=80% />
<strong><a class="twikiLink" href="/Transform/WebHome">Home</a></strong>
<p />
<strong>Surveys</strong>
<br>
<a class="twikiLink" href="/Transform/ProgramTransformation">Transformation</a>
<br>
<a class="twikiLink" href="/Transform/ReengineeringWiki">Reengineering</a>
<br>
<a class="twikiLink" href="/Transform/DomainSpecificLanguages">DSL</a>
<br>
<a class="twikiLink" href="/Transform/DomainEngineering">Domain Engineering</a>
<br>
<a class="twikiLink" href="/Transform/DeCompilation">Decompilation</a>
<br>
<a class="twikiLink" href="/Transform/GenerativeProgrammingWiki">Generative Progr.</a>
<br>
<br>
<strong><a class="twikiLink" href="/Transform/CategoryCollection">Collections</a></strong>
<br>
<a class="twikiLink" href="/Transform/CategoryCategory">Categories</a>
<br>
<a class="twikiLink" href="/Transform/TransformationSystems">Systems</a>
<br>
<a class="twikiLink" href="/Transform/TransformationConferences">Conferences</a>
<br>
<a class="twikiLink" href="/Transform/TransformationPeople">People</a>
<br>
<a class="twikiLink" href="/Transform/TransformationCompanies">Companies</a>
<br>
<a class="twikiLink" href="/Transform/CategoryPaper">Papers</a>
<hr>
<a href="http://www.program-transformation.org/Transform/WebRss?skin=rss"><img border="0" src="http://www.program-transformation.org/pub/rss.gif" title="RSS 1.0 feed"></a>
<p />
  </div>
</div><div class="twikiMain"><div class="toolBar">
<div class="flexMenuBar"><div class="flexMenu" onmouseover="return showMenu(event, 100);" onmouseout="return hideMenu(event, 100);">
  <p>Page</p>
  <div id="flexMenuContent100" class="flexMenuContent">
    <ul>
      <li><a href="/edit/Transform/JavaAbstractSyntax?t=1265269734">Edit Page</a></li>
      <li><a href="/rename/Transform/JavaAbstractSyntax">Rename Page</a></li>
      <li><a href="/attach/Transform/JavaAbstractSyntax">Attach File</a></li>
    </ul>
    <ul>
      <li><a href="/view/Transform/JavaAbstractSyntax?skin=print.pattern">Printable</a></li>
      <li><a href="/view/Transform/JavaAbstractSyntax?skin=text&amp;raw=on&amp;contenttype=text/plain">Wiki Source</a></li>
    </ul>
    <ul>
       <li class="revision"><a href="/view/Transform/JavaAbstractSyntax?rev=1.7">Rev 7</a> <a href="/rdiff/Transform/JavaAbstractSyntax?rev1=1.7&amp;rev2=1.6">(diff 6)</a></li> <li class="revision"><a href="/view/Transform/JavaAbstractSyntax?rev=1.6">Rev 6</a> <a href="/rdiff/Transform/JavaAbstractSyntax?rev1=1.6&amp;rev2=1.5">(diff 5)</a></li> <li class="revision"><a href="/view/Transform/JavaAbstractSyntax?rev=1.5">Rev 5</a> <a href="/rdiff/Transform/JavaAbstractSyntax?rev1=1.5&amp;rev2=1.4">(diff 4)</a></li>
      <li><a href="/rdiff/Transform/JavaAbstractSyntax">Total History</a></li>
    </ul>
    <ul>
      <li><a href="/oops/Transform/JavaAbstractSyntax?template=oopsmore&amp;param1=1.7&amp;param2=1.7">More ...</a></li>
    </ul>
  </div>
</div>
<div class="flexMenu" onmouseover="return showMenu(event, 102);" onmouseout="return hideMenu(event, 102);">
  <p>Web</p>
  <div id="flexMenuContent102" class="flexMenuContent">
    <ul>
      <li><a class="twikiLink" href="/Transform/WebChanges">Recent Changes</a></li>
      <li><a class="twikiLink" href="/Transform/WebNotify">Notify Service</a></li>
      <li><a class="twikiLink" href="/Transform/WebNews">News</a></li>
    </ul>
    <ul>
      <li><a class="twikiLink" href="/Transform/WebIndex">Page Index</a></li>
      <li><a class="twikiLink" href="/Transform/WebSearch">Search</a></li>
      </ul>
      <ul>
   <li><a href="/oops/Transform/JavaAbstractSyntax?template=oopsmore&amp;param1=1.7&amp;param2=1.7">More ...</a></li>
      </ul>
  </div>
</div>
<div class="flexMenu" onmouseover="return showMenu(event, 103);" onmouseout="return hideMenu(event, 103);">
  <p>Wiki</p>
  <div id="flexMenuContent103" class="flexMenuContent">
    <ul>
      <li><a href="/view/TWiki/WebHome">About TWiki</a></li>
      <li><a href="/view/TWiki/TextFormattingRules">Text Formatting</a></li>
    </ul>
    <ul>
      <li><a href="/view/TWiki/TWikiRegistration">Registration</a></li>
      <li><a href="/view/TWiki/ChangePassword">Change Password</a></li>
      <li><a href="/view/TWiki/ResetPassword">Reset Password</a></li>
    </ul>
      <ul>
   <li><a href="/view/Main/TWikiUsers">Users</a></li>
   <li><a href="/view/Main/TWikiGroups">Groups</a></li>
      </ul>
  </div>
</div></div>
</div> <div class="twikiTopic">
<h1 class="twikiTopicTitle">Java Abstract Syntax</h1>
<div class="twikiWebTitle">Program-Transformation.Org: The Program Transformation Wiki</div>
Program transformation systems for Java programs (that is, Java is the object language) usually operate on an abstract syntax representation of the Java source code. Java has no standardized or de facto standard for its abstract syntax.
<p />
<h2><a name="Eclipse_JDT_Core_3_x"> </a> Eclipse JDT Core 3.x </h2>
<p />
The <a href="http://www.eclipse.org/jdt/index.html" target="_top">JDT Core</a> component of Eclipse provides a 'Java Document Model' in the package <code>org.eclipse.jdt.core.dom</code>. This <a class="twikiLink" href="/Transform/API">API</a> can be used for manipulating a structured Java source document.
<p />
<ul style="list-style-image: url('http://losser.labs.cs.uu.nl/~mbravenb/images/Delete.gif')">
   <li>AST can be serialized. However, this is an unformatted String representation which is not guaranteed to be correct. The real formatter can only be applied to a String and the pretty-printer of the AST can only be applied if the original Java source has also been parsed by the Eclipse JDT Core parser</li>
   <li>The <a class="twikiLink" href="/Transform/API">API</a> looks attractive and feature-rich, but many of these features only work inside Eclipse. For example, resolving bindings outside of Eclipse is nearly impossible.</li>
</ul>
<p />
<ul style="list-style-image: url('http://losser.labs.cs.uu.nl/~mbravenb/images/Check.gif')">
   <li>Basic AST implementation is not required to be executed in an Eclipse plugin.</li>
   <li>Classes are written by hand and contain useful accessor methods.</li>
   <li>Representation is 'type-safe': it is not based on generic superclasses for storing nodes.</li>
</ul>
<p />
<h2><a name="Eclipse_JDT_Core_before_3_0_Mile"> </a> Eclipse JDT Core before 3.0 Milestone 8  </h2>
<p />
The <a href="http://www.eclipse.org/jdt/index.html" target="_top">JDT Core</a> component of Eclipse provides a 'Java Document Model' in the package <code>org.eclipse.jdt.core.dom</code>. This <a class="twikiLink" href="/Transform/API">API</a> can be used for manipulating a structured Java source document.
<p />
<ul style="list-style-image: url('http://losser.labs.cs.uu.nl/~mbravenb/images/Delete.gif')">
   <li>An application of this AST must itself be an Eclipse plugin.It cannot be used from ordinary Java programs since an instance of the Eclipse Runtime is required. It is not dependent on the UI however.
   </li>
   <li>No proper pretty printing. <code>toString</code> methods can be used to produce Java concrete syntax, but these methods are intended for  debugging only.</li>
</ul>
<p />
<h2><a name="OpenJava"> </a> OpenJava </h2>
<p />
More on this soon ...
<p />
<h2><a name="JavaCC_JRefactory"> </a> JavaCC/JRefactory </h2>
<p />
The <a href="http://jrefactory.sourceforge.net/" target="_top">JRefactory</a> refactoring tool for Java uses an abstract syntax tree generated by <a class="twikiLink" href="/Transform/JavaCC">JavaCC</a>/JJTree. JRefactory contains a configurable pretty printer for this abstract syntax tree. Mike Atkinson has taken over the development from Chris Seguin and is working on the extensions of the j2sdk 1.5.
<p />
<ul style="list-style-image: url('http://losser.labs.cs.uu.nl/~mbravenb/images/Delete.gif')">
  <li>AST is not really abstract. The presence of literals makes it feel more like a parse tree/CST.</li>
  <li>AST is not type safe. Generic superclasses are used to store 'nodes' and 'specials'</li>
  <li>AST feels very generated. The number of hand-written accessor methods is limited</li>
</ul>
<p />
<ul style="list-style-image: url('http://losser.labs.cs.uu.nl/~mbravenb/images/Check.gif')">
<li>Configurable pretty printer</li>
</ul>
<p />
<h2><a name="SableCC"> </a> SableCC  </h2>
<p />
<a class="twikiLink" href="/Transform/SableCC">SableCC</a> is a compiler compiler producing Java. It generates strictly typed abstract syntax tree classes for the object language. There is a Java 1.4 grammar for <a class="twikiLink" href="/Transform/SableCC">SableCC</a>, which therefore defines an abstract syntax for Java. As far as I know that is no pretty printer for this AST.
<p />
<ul style="list-style-image: url('http://losser.labs.cs.uu.nl/~mbravenb/images/Delete.gif')">
  <li>No pretty printer available for the abstract syntax tree</li>
  <li>No facility to add user defined to the generated classes without making regeneration impossible</li>
</ul>
<p />
<ul style="list-style-image: url('http://losser.labs.cs.uu.nl/~mbravenb/images/Check.gif')">
  <li>Choose between the CST and AST representation in <a class="twikiLink" href="/Transform/SableCC">SableCC</a> 3 (not yet implemented in the Java grammar although).</li>
  <li>Generates tree walkers.</li>
  <li>Representation is 'type-safe': it is not based on generic superclasses for storing nodes.</li>
</ul>
<p />
<h2><a name="Stratego_XT_and_java_front"> </a> Stratego/XT and java-front </h2>
<p />
Stratego/XT's <a class="twikiLink" href="/Stratego/JavaFront">java-front</a> defines the concrete syntax for Java in <a class="twikiLink" href="/Sdf/WebHome">SDF</a> and generates abstract syntax tree definitions from this concrete syntax definition. <a class="twikiLink" href="/Stratego/JavaFront">java-front</a> contains a pretty-printer implemented in Stratego for this Java abstract syntax.
<p />
<ul style="list-style-image: url('http://losser.labs.cs.uu.nl/~mbravenb/images/Delete.gif')">
  <li>ASTs are exchanged in the <a class="twikiLink" href="/Tools/ATermFormat">ATerm format</a>, which is limited to ASCII characters</li>
  <li>Type safety is not enforced by the <a class="twikiLink" href="/Tools/ATermFormat">ATerm format</a>. The meta language or the programmer is responsible for this.</li>
  <li>Tools are not implemented in Java. Requires a POSIX compatible operating system</li>
</ul>
<p />
<ul style="list-style-image: url('http://losser.labs.cs.uu.nl/~mbravenb/images/Check.gif')">
  <li>Lexical constructs like string and characters literals are structured</li>
  <li>Representation is abstract: syntactical details like literals are not present</li>
  <li>High quality pretty-printer</li>
  <li>Parser and pretty-printer support comment preservation</li>
  <li>Full support for 1.5</li>
  <li>Option to parse Java to an AST concisely represented in an <a class="twikiLink" href="/Transform/XML">XML</a> document</li>
</ul>
<p />
<h2><a name="Java_Compiler_API"> </a> Java Compiler API </h2>
<p />
A future goal of <a href="http://www.jcp.org/en/jsr/detail?id=199" target="_top">JSR 199: Java Compiler API</a> is to standardize the structured representation of Java source code in an abstract syntax tree.
<p />
<ul style="list-style-image: url('http://losser.labs.cs.uu.nl/~mbravenb/images/Delete.gif')">
   <li>It doesn't exist.</li>
</ul>
<p />
<h3><a name="Maintainer"> </a> Maintainer </h3>
<p />
This page is maintained by <a class="twikiLink" href="/Main/MartinBravenboer">Martin Bravenboer</a>. This is Wiki, so you can contribute if you want to provide additional information. Of course you can also just send me your comments by e-mail.
<br class="twikiClear" />
<a name="TopicEnd"></a>
</div>
<!---->
<!---->
<p />
<div class="twikiTopicInfo twikiRevInfo twikiGrayText twikiMoved"></div>
</div></div>
</div></body></html>

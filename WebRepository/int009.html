<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <title>Convert an int to a byte array [java]</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="/stylesheets/snippets.css?1239220407" media="screen" rel="Stylesheet" type="text/css" />
    <link href="/stylesheets/minitabs.css?1229957682" media="screen" rel="Stylesheet" type="text/css" />

    <!--[if IE]>
    <link href="/stylesheets/iefixes.css?1229957682" media="screen" rel="Stylesheet" type="text/css" />
    <![endif]-->
    <!-- Use this code block to activate a prestitial if there's one to load -->
<!-- BEGIN ADVERTPRO ADVANCED CODE BLOCK -->

<SCRIPT language="JavaScript" type="text/javascript">
<!--
document.write('<SCR'+'IPT src="http://avpa.javalobby.org/servlet/view/dynamic/javascript/zone?zid=159&pid=0&random='+Math.floor(89999999*Math.random()+10000000)+'&millis='+new Date().getTime()+'" language="JavaScript" type="text/javascript"></SCR'+'IPT>');
//-->
</SCRIPT>

<!-- END ADVERTPRO ADVANCED CODE BLOCK -->
</head>

<body class="post" id="none">
    <div id="container">
      <div id="header">
	<form action="/account/login" method="post">
	    <div id="functions">
	    <a href="/account/signup">Create account</a> or Username: <input id="username" name="username" type="text" /> Password: <input id="password" name="password" type="password" /> <input name="commit" type="submit" value="Log In" /><br />
         <!-- BEGIN ADVERTPRO ADVANCED CODE BLOCK -->

<!-- b style="background-color: #f5f; border-top: solid 1px #660; border-bottom: solid 1px #660; padding: 4px" -->
<!-- %= link_to 'Get your coding job seen by 130,000 coders', :controller => 'ads', :action => 'new' % -->
<!-- /b -->
	    </div>
	</form>
	<p id="title"><a href="http://snippets.dzone.com/">DZone Snippets</a></p><p><em>3256 users tagging and storing useful source code snippets</em></p>
	<!-- p><em>Post code snippets. Sort by tags, people, people and tags, etc..</em></p -->
</div>

      



      




    <div class="green box">
        <h3>Never been to DZone Snippets before?</h3>
        <p><b>Snippets is a <span class='highlighted'>public source code repository.</span></b> Easily build up your personal collection of code snippets, categorize them with tags / keywords, and share them with the world</p>
    </div>



<h1>Convert an int to a byte array <span class="related">(<a href="#related">See related posts</a>)</span></h1>
<div id="sidebar">
    <div style="padding-left: 18px">
                   <div id="search_snippets" class="box green">
            <h3>Search DZone Snippets</h3>
            <form action="/search/get_results" method="get">
                <input type="text" name="q" value="" size="20"> <input type="submit" value="Search"/>
            </form>
        </div>
               <div id="mediumRect" class="box">
            <!-- BEGIN ADVERTPRO ADVANCED CODE BLOCK -->

<SCRIPT language="JavaScript" type="text/javascript">
<!--
document.write('<SCR'+'IPT src="http://avpa.javalobby.org/servlet/view/banner/javascript/zone?zid=83&pid=0&random='+Math.floor(89999999*Math.random()+10000000)+'&millis='+new Date().getTime()+'" language="JavaScript" type="text/javascript"></SCR'+'IPT>');
//-->
</SCRIPT>
<NOSCRIPT>
<A href="http://avpa.javalobby.org/servlet/click/zone?zid=83&pid=0&lookup=true&position=1" target="_top">
<IMG src="http://avpa.javalobby.org/servlet/view/banner/image/zone?zid=83&pid=0&position=1" height="250" width="300" hspace="0" vspace="0" border="0" alt="Click Here!">
</A>
</NOSCRIPT>

<!-- END ADVERTPRO ADVANCED CODE BLOCK -->
        </div>
               

        <div id="dzone_latest" class="box blue">
            <h3>Popular @ <a href="http://www.dzone.com">dzone.com</a></h3>
            
                        <p><a href="http://www.dzone.com/links/rss/rules_of_mvvm.html" title="Rules of MVVM??">
                           Rules of MVVM??</a></p>
            
                        <p><a href="http://www.dzone.com/links/rss/using_groovy_to_generate_objectivec.html" title="Using Groovy to Generate Objective-C">
                           Using Groovy to Generate Objective-C</a></p>
            
                        <p><a href="http://www.dzone.com/links/rss/ie_flaw_makes_local_files_public_and_it_cant_be_f.html" title="IE Flaw makes Local Files Public, and it can't be fixed">
                           IE Flaw makes Local Files Public, and it can't ...</a></p>
            
                        <p><a href="http://www.dzone.com/links/rss/oracle_enterprise_pack_for_eclipse_11gr1_11114_re.html" title="Oracle Enterprise Pack for Eclipse 11gR1 (11.1.1.4) release webinar">
                           Oracle Enterprise Pack for Eclipse 11gR1 (11.1....</a></p>
            
                        <p><a href="http://www.dzone.com/links/rss/vertical_tabs_for_jquery_lovers.html" title=""Vertical Tabs" for jQuery lovers!">
                           "Vertical Tabs" for jQuery lovers!</a></p>
            
                        <p><a href="http://www.dzone.com/links/rss/writing_your_own_dsl_with_ruby.html" title="Writing your own DSL with Ruby">
                           Writing your own DSL with Ruby</a></p>
            
                        <p><a href="http://www.dzone.com/links/rss/my_favorite_tool.html" title="My Favorite Tool">
                           My Favorite Tool</a></p>
            
        </div>
               					         
        
    </div>
</div>
<div id="main">

  
    

 <div id="post93">
	<div id="skyscraper" style="float: left;">
<!-- BEGIN ADVERTPRO ADVANCED CODE BLOCK -->

<SCRIPT language="JavaScript" type="text/javascript">
<!--
document.write('<SCR'+'IPT src="http://avpa.dzone.com/servlet/view/banner/javascript/zone?zid=174&pid=0&random='+Math.floor(89999999*Math.random()+10000000)+'&millis='+new Date().getTime()+'" language="JavaScript" type="text/javascript"></SCR'+'IPT>');
//-->
</SCRIPT>
<NOSCRIPT>
<A href="http://avpa.dzone.com/servlet/click/zone?zid=174&pid=0&lookup=true&position=1" target="_top">
<IMG src="http://avpa.dzone.com/servlet/view/banner/image/zone?zid=174&pid=0&position=1" height="600" width="120" hspace="0" vspace="0" border="0" alt="Click Here!">
</A>
</NOSCRIPT>

<!-- END ADVERTPRO ADVANCED CODE BLOCK -->
</div>
  <div class="post">

	<div class="post-body"><pre>
    <span class="ident">public</span> <span class="ident">static</span> <span class="ident">byte</span><span class="punct">[]</span> <span class="ident">intToByteArray</span><span class="punct">(</span><span class="ident">int</span> <span class="ident">value</span><span class="punct">)</span> <span class="punct">{</span>
        <span class="ident">byte</span><span class="punct">[]</span> <span class="ident">b</span> <span class="punct">=</span> <span class="ident">new</span> <span class="ident">byte</span><span class="punct">[</span><span class="number">4</span><span class="punct">];</span>
        <span class="keyword">for</span> <span class="punct">(</span><span class="ident">int</span> <span class="ident">i</span> <span class="punct">=</span> <span class="number">0</span><span class="punct">;</span> <span class="ident">i</span> <span class="punct">&lt;</span> <span class="number">4</span><span class="punct">;</span> <span class="ident">i</span><span class="punct">++)</span> <span class="punct">{</span>
            <span class="ident">int</span> <span class="ident">offset</span> <span class="punct">=</span> <span class="punct">(</span><span class="ident">b</span><span class="punct">.</span><span class="ident">length</span> <span class="punct">-</span> <span class="number">1</span> <span class="punct">-</span> <span class="ident">i</span><span class="punct">)</span> <span class="punct">*</span> <span class="number">8</span><span class="punct">;</span>
            <span class="ident">b</span><span class="punct">[</span><span class="ident">i</span><span class="punct">]</span> <span class="punct">=</span> <span class="punct">(</span><span class="ident">byte</span><span class="punct">)</span> <span class="punct">((</span><span class="ident">value</span> <span class="punct">&gt;&gt;&gt;</span> <span class="ident">offset</span><span class="punct">)</span> <span class="punct">&amp;</span> <span class="number">0xFF</span><span class="punct">);</span>
        <span class="punct">}</span>
        <span class="keyword">return</span> <span class="ident">b</span><span class="punct">;</span>
    <span class="punct">}</span>
</pre></div>
	
	<div class="post-metadata">to <a href="/tag/java" class="tag ">java</a>  by <a href="/user/aeden">aeden</a> on Sat Apr 09 00:56:01 -0400 2005<!-- strftime("%Y-%m-%d") --> 
	
	
    </div><br />

  </div>
 </div>

 <a name="comments"></a>

 
    <div class="box bar red"><h3>Comments on this post</h3></div>

    <a name="comment-607"></a>
<div class="comment">
	<div class="details"><a href="/user/toxi">toxi</a> posts on Sep 12, 2006 at 19:14</div>
	<div class="content">a much faster (60%) version would be that:<br /><br />public static final byte[] intToByteArray(int value) {<br />  return new byte[]{ <br />    (byte)(value &gt;&gt;&gt; 24), (byte)(value &gt;&gt; 16 &amp; 0xff), (byte)(value &gt;&gt; 8 &amp; 0xff), (byte)(value &amp; 0xff) };<br />}</div>
</div><a name="comment-1199"></a>
<div class="comment">
	<div class="details"><a href="/user/MichaelTague">MichaelTague</a> posts on Nov 15, 2007 at 18:12</div>
	<div class="content">The masks aren't necessary.  The byte casts do the job:<br /><br /><pre>
<span class="ident">public</span> <span class="ident">static</span> <span class="ident">final</span> <span class="ident">byte</span><span class="punct">[]</span> <span class="ident">intToByteArray</span><span class="punct">(</span><span class="ident">int</span> <span class="ident">value</span><span class="punct">)</span> <span class="punct">{</span>
        <span class="keyword">return</span> <span class="ident">new</span> <span class="ident">byte</span><span class="punct">[]</span> <span class="punct">{</span>
                <span class="punct">(</span><span class="ident">byte</span><span class="punct">)(</span><span class="ident">value</span> <span class="punct">&gt;&gt;&gt;</span> <span class="number">24</span><span class="punct">),</span>
                <span class="punct">(</span><span class="ident">byte</span><span class="punct">)(</span><span class="ident">value</span> <span class="punct">&gt;&gt;&gt;</span> <span class="number">16</span><span class="punct">),</span>
                <span class="punct">(</span><span class="ident">byte</span><span class="punct">)(</span><span class="ident">value</span> <span class="punct">&gt;&gt;&gt;</span> <span class="number">8</span><span class="punct">),</span>
                <span class="punct">(</span><span class="ident">byte</span><span class="punct">)</span><span class="ident">value</span><span class="punct">};</span>
<span class="punct">}</span>
</pre><br /><br />The inverse of this, byte array to int, would be:<br /><br /><pre>
<span class="ident">public</span> <span class="ident">static</span> <span class="ident">final</span> <span class="ident">int</span> <span class="ident">byteArrayToInt</span><span class="punct">(</span><span class="ident">byte</span> <span class="punct">[]</span> <span class="ident">b</span><span class="punct">)</span> <span class="punct">{</span>
        <span class="keyword">return</span> <span class="punct">(</span><span class="ident">b</span><span class="punct">[</span><span class="number">0</span><span class="punct">]</span> <span class="punct">&lt;&lt;</span> <span class="number">24</span><span class="punct">)</span>
                <span class="punct">+</span> <span class="punct">((</span><span class="ident">b</span><span class="punct">[</span><span class="number">1</span><span class="punct">]</span> <span class="punct">&amp;</span> <span class="number">0xFF</span><span class="punct">)</span> <span class="punct">&lt;&lt;</span> <span class="number">16</span><span class="punct">)</span>
                <span class="punct">+</span> <span class="punct">((</span><span class="ident">b</span><span class="punct">[</span><span class="number">2</span><span class="punct">]</span> <span class="punct">&amp;</span> <span class="number">0xFF</span><span class="punct">)</span> <span class="punct">&lt;&lt;</span> <span class="number">8</span><span class="punct">)</span>
                <span class="punct">+</span> <span class="punct">(</span><span class="ident">b</span><span class="punct">[</span><span class="number">3</span><span class="punct">]</span> <span class="punct">&amp;</span> <span class="number">0xFF</span><span class="punct">);</span>
<span class="punct">}</span>
</pre><br />The masks are needed here because when the byte is widened to an int sign extension may add lots of bits that we get ride of with the mask.<br />        </div>
</div><a name="comment-1607"></a>
<div class="comment">
	<div class="details"><a href="/user/avalon">avalon</a> posts on Nov 11, 2008 at 05:26</div>
	<div class="content">What about big-endian?</div>
</div><a name="comment-1915"></a>
<div class="comment">
	<div class="details"><a href="/user/t3en4">t3en4</a> posts on Apr 23, 2009 at 10:57</div>
	<div class="content">hi toxi, I already tried your solution but I keep having the same problem with the signed int...<br /><br />I use this:<br /><br />public static final byte[] intToByteArray(int value) {<br />		return new byte[]{<br />			(byte)(value &gt;&gt;&gt; 24), (byte)(value &gt;&gt; 16 &amp; 0xff), (byte)(value &gt;&gt; 8 &amp; 0xff), (byte)(value &amp; 0xff) };<br />}<br /><br />and from my main I call the function as:<br /><br />byte[] xs = pruebaPaquetes_.intToByteArray(0xABC12345);<br />for(int i=0; i&lt;xs.length; i++)<br />	System.out.println(Integer.toHexString(xs[i]));<br /><br />and the output I ALWAYS get is:<br /><br />ffffffab<br />ffffffc1<br />23<br />45<br /><br />how can I make those 0xffffffxx disappear?.<br /><br />Thank you.</div>
</div><a name="comment-22909"></a>
<div class="comment">
	<div class="details"><a href="/user/mahmoud.alhabbal">mahmoud.alhabbal</a> posts on Nov 30, 2009 at 05:01</div>
	<div class="content">simply make logical AND with your byte and 0xFF:<br />it will be:<br /><br />System.out.println(Integer.toHexString(0xff &amp; xs[i]));</div>
</div>

	
	    <p>You need to <a href="/account/signup">create an account</a> or log in to post comments to this site.</p>
	
 

</div>
        <br />

<center><big><b><a href="/">Click here to browse all 7498 code snippets</a></b></big><br /><br /></center>

        
	<a name="related"></a>
	<div class="box green" style="clear: both;">
	<h3>Related Posts</h3>

	<div id="related-posts">
    <p>
	
	    &raquo;&nbsp;<a href="/posts/show/85">Convert array to java.util.List</a> <span class="post-metadata">in <a href="/tag/java" class="tag ">java</a> </span><br />
	
	    &raquo;&nbsp;<a href="/posts/show/90">DebugInputStream</a> <span class="post-metadata">in <a href="/tag/java" class="tag ">java</a> <a href="/tag/io" class="tag ">io</a> </span><br />
	
	    &raquo;&nbsp;<a href="/posts/show/91">Join in Java</a> <span class="post-metadata">in <a href="/tag/java" class="tag ">java</a> <a href="/tag/string" class="tag ">string</a> </span><br />
	
	    &raquo;&nbsp;<a href="/posts/show/92">Converting Images to BufferedImages</a> <span class="post-metadata">in <a href="/tag/java" class="tag ">java</a> <a href="/tag/image" class="tag ">image</a> </span><br />
	
	    &raquo;&nbsp;<a href="/posts/show/94">Convert a byte array to an int</a> <span class="post-metadata">in <a href="/tag/java" class="tag ">java</a> </span><br />
	
	    &raquo;&nbsp;<a href="/posts/show/95">Writing directly to a JTextArea</a> <span class="post-metadata">in <a href="/tag/java" class="tag ">java</a> <a href="/tag/io" class="tag ">io</a> <a href="/tag/swing" class="tag ">swing</a> </span><br />
	


    </p>
    </div>
	</div>
 




 	    <br style="clear: both" />

<div id="footer">
		<p>Snippets originally developed by <a href="http://www.petercooper.co.uk/">Peter Cooper</a> and powered by <a href="http://www.rubyonrails.com/">Ruby On Rails</a>.</p>
        <p>Copyright &copy; 2007 <a href="http://www.dzone.com">DZone, Inc.</a></p>
    <!-- Site Meter -->
	<script type="text/javascript" src="http://sm2.sitemeter.com/js/counter.js?site=sm2snippets">
	</script>
	<noscript>
	<a href="http://sm2.sitemeter.com/stats.asp?site=sm2snippets" target="_top">
	<img src="http://sm2.sitemeter.com/meter.asp?site=sm2snippets" alt="Site Meter" border="0"/></a>
	</noscript>
	<!-- Copyright (c)2006 Site Meter -->
</div>

    </div>
<script src="/javascripts/prototype.js?1229957682" type="text/javascript"></script>
		<script src="/javascripts/effects.js?1229957682" type="text/javascript"></script>
		<script src="/javascripts/dragdrop.js?1229957682" type="text/javascript"></script>
		<script src="/javascripts/controls.js?1229957682" type="text/javascript"></script>
		<script src="/javascripts/general.js?1229957682" type="text/javascript"></script>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-410289-8";
urchinTracker();
</script>
    <!-- Start Quantcast tag -->
    <script type="text/javascript" src="http://edge.quantserve.com/quant.js"></script>
    <script type="text/javascript">
    _qacct="p-ebK_XdQH1HeLo";quantserve();</script>
    <noscript>
    <img src="http://pixel.quantserve.com/pixel/p-ebK_XdQH1HeLo.gif" style="display: none" height="1" width="1" alt="Quantcast"/></noscript>
    <!-- End Quantcast tag -->
     <script type="text/javascript" language="JavaScript" src="http://certify.alexametrics.com/atrk.js"></script>
<script type="text/javascript" language="JavaScript">_atrk_opts = {
atrk_acct: "2Zc291a0g0y12X" }; atrk ();</script>
<noscript><img src="http://certify.alexametrics.com/atrk.gif?account=2Zc291a0g0y12X&jsv=20080822" style="display:none" height="1" width="1"></noscript>
</body>
</html>

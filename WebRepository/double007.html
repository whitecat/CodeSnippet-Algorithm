<HTML><HEAD>
<!-- developpe par  Real Gagnon, Quebec Canada http://rgagnon.com -->
<META NAME="description" 
      Content="Real's JAVA JAVASCRIPT and PowerBuilder How-to pages with useful code snippets">
<META NAME="keywords" 
      Content="java,javascript,wsh,vbscript,programming,tips,powerbuilder">
<LINK title="mystyle" href="../howto.css" type="text/css" rel="stylesheet">
<LINK rel="alternate" type="application/rss+xml" title="Real's HowTo" href="http://www.rgagnon.com/feed.xml">


<TITLE>Round a double - Real's Java How-to</TITLE>
<script language="Javascript1.2" src="../scripts/watermark.js"></script>
<noscript>
<div align="center"><a href="#" target="_blank"><img src="../images/ads-001.png" height=30 width=300 title="ads" border='0'></a></div>
</noscript>
</HEAD><BODY><br>
<!-- Google adsense -->
<div align="center">
<script type="text/javascript"><!--
google_ad_client = "pub-5001760496988433";
//top banner text 1
google_ad_slot = "5477985772";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<!-- Google adsense -->
<!-- HOWTO content -->
<h4>Round a double</h4>

<b>JDK1.1</b>
<DIV class="howtocode"><PRE>
import java.math.*;
public class TestRound11 {
  public static void main(String args[]){
    double d = 3.1537;
    BigDecimal bd = new BigDecimal(d);
    bd = bd.setScale(2,BigDecimal.ROUND_HALF_UP);
    // output is 3.15
    System.out.println(d + " : " + round(d, 2));
    // output is 3.154
    System.out.println(d + " : " + round(d, 3));
  }

  public static double round(double d, int decimalPlace){
    // see the Javadoc about why we use a String in the constructor
    // http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html#BigDecimal(double)
    BigDecimal bd = new BigDecimal(Double.toString(d));
    bd = bd.setScale(decimalPlace,BigDecimal.ROUND_HALF_UP);
    return bd.doubleValue();
  }
}
</PRE></DIV>

<p><b>JDK1.0.2</b>
<DIV class="howtocode"><PRE>
public class TestRound102 {
    public static void main(String args[]){
      double d = 3.1537;
      // output is 3.2
      System.out.println(d + " : " + round(d, 1));
      // output is 3.15
      System.out.println(d + " : " + round(d, 2));
      // output is 3.154
      System.out.println(d + " : " + round(d, 3));
      d= 9.155;
      // output is 9.2
      System.out.println(d + " : " + round(d, 1));
      // output is 9.16
      System.out.println(d + " : " + round(d, 2));
      // output is 3.155
      System.out.println(d + " : " + round(d, 3));
      d= 1234.156789;
      // output is 1234.2
      System.out.println(d + " : " + round(d, 1));
      // output is 1234.16
      System.out.println(d + " : " + round(d, 2));
      // output is 1234.157
      System.out.println(d + " : " + round(d, 3));
      // output is 1234.1568
      System.out.println(d + " : " + round(d, 4));
      d= 1.5;
      // output is 2
      System.out.println(d + " : " + round(d, 0));
    }

    // positive value only.
    public static double round(double value, int decimalPlace)
    {
      double power_of_ten = 1;
      // floating point arithmetic can be very tricky.
      // that's why I introduce a "fudge factor"
      double fudge_factor = 0.05;
      while (decimalPlace-- &gt; 0) {
         power_of_ten *= 10.0d;
         fudge_factor /= 10.0d;
      }
      return Math.round((value + fudge_factor)* power_of_ten)  / power_of_ten;
    }
}
</PRE></DIV>



<!-- HOWTO content -->
<HR><!-- Google Friend Connect -->
<script type="text/javascript" src="http://www.google.com/friendconnect/script/friendconnect.js"></script>
<div id="div-7681152402483573063" style="width:590px;border:1px solid #cccccc;"></div>
<script type="text/javascript">
var skin = {};
skin['BORDER_COLOR'] = '#cccccc';
// skin['ENDCAP_BG_COLOR'] = '#e0ecff';
skin['ENDCAP_BG_COLOR'] = '#d3d3d3';
skin['ENDCAP_TEXT_COLOR'] = '#333333';
skin['ENDCAP_LINK_COLOR'] = '#0000cc';
skin['ALTERNATE_BG_COLOR'] = '#ffffff';
skin['CONTENT_BG_COLOR'] = '#ffffff';
skin['CONTENT_LINK_COLOR'] = '#0000cc';
skin['CONTENT_TEXT_COLOR'] = '#333333';
skin['CONTENT_SECONDARY_LINK_COLOR'] = '#7777cc';
skin['CONTENT_SECONDARY_TEXT_COLOR'] = '#666666';
skin['CONTENT_HEADLINE_COLOR'] = '#333333';
skin['DEFAULT_COMMENT_TEXT'] = '- add your comment here -';
skin['HEADER_TEXT'] = 'Comments';
skin['POSTS_PER_PAGE'] = '5';
google.friendconnect.container.setParentUrl('/' /* location of rpc_relay.html and canvas.html */);
google.friendconnect.container.renderWallGadget(
 { id: 'div-7681152402483573063',
   site: '09315574661186500794',
   'view-params':{"disableMinMax":"false","scope":"PAGE","allowAnonymousPost":"false","startMaximized":"true"}
 },
  skin);
</script>
<!-- Google Friend Connect -->
<HR><!-- Google adsense -->
<p><div align="center">
<script type="text/javascript"><!--
google_ad_client = "pub-5001760496988433";
//bottom banner image 1
google_ad_slot = "7489098401";
google_ad_width = 468;
google_ad_height = 60;
//--></script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<!-- Google adsense -->
<HR><small>
<div align="center"><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" value="_xclick" name="cmd"> 
<input type="hidden" value="real@rgagnon.com" name="business">
<input type="hidden" value="Support for Real's HowTo" name="item_name">
<input type="hidden" value="realhowto" name="item_number">
<input type="hidden" value="1" name="no_shipping">
<input type="hidden" value="http://www.rgagnon.com/thanks.html" name="return">
<table><tr><td><small>If you find this article useful, consider making a small donation <br>
to show your support for this Web site and its content.</td>
<td><input title="Make payments with PayPal - it's fast, free and secure!" type="image" 
alt="Make payments with PayPal - it's fast, free and secure!" 
src="https://www.paypal.com/images/x-click-but04.gif" 
border="0" name="submit"></td></tr></table></form></div>
<p align='center'>Written and compiled by R&eacute;al Gagnon  &#169;1998-2010<br>
[<A HREF="http://rgagnon.com/" TARGET="_top"> home </A>]</small></p>
<HR><!-- GOOGLE ANALYTICS -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2178549-1";
urchinTracker();
</script>
<!-- GOOGLE ANALYTICS -->
</BODY></HTML>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>JRI - Java/R Interface - RForge.net</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="/main.css" type="text/css">
</head>
<body bgcolor=#d0d0d0 text=#000000 leftmargin=0 topmargin=0 marginwidth=0 marginheight=0>
<div style="background-color: #e0e0ff; border: 2px solid #a0a0ff; padding: 10px; margin: 7px; font-size: 16pt">
<b>JRI - Java/R Interface</b>
</div>
<div style="background-color: #a0a0a0; border: 2px solid #808080; padding: 3px 10px 1px; margin: 7px; text-align: left; font-size: 9pt; color: #ffffff">
<a href="/" style='color: #ffffff'><i>RForge.net</i></a>
</div>
<div style="background-color: #ffffff; border: 2px solid #a0a0a0; padding: 10px; margin: 7px; text-align: justify;">
<table width=100%><tr valign=top><td width=120>
<h2>JRI</h2>
<p>
<a href="/JRI/index.html">About JRI</a><br><a href="/JRI/svn.html">SVN access</a><br><a href="/JRI/files/">Download/Files</a><br><a href="/JRI/news.html">News</a><br>
<p>
</td><td>
<!-- project="JRI", file="index.html" -->
<table>
<tr><td colspan=2><b>What is JRI?</b></td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
<p><b>JRI</b> is a Java/R Interface, which allows to run R inside Java applications as a single thread. Basically it loads <b>R</b> dynamic library into Java and provides a Java API to R functionality. It supports both simple calls to R functions and a full running REPL.
<p>
In a sense <b>JRI</b> is the inverse of <a href=/rJava>rJava</a> and both can be combined (i.e. you can run R code inside JRI that calls back to the JVM via rJava). The <a href=/JGR>JGR</a> project makes the full use of both JRI and rJava to provide a full Java GUI for R.
<p>
<b>JRI</b> uses native code, but it supports all platforms where Sun's Java (or compatible) is available, including Windows, Mac OS X, Sun and Linux (both 32-bit and 64-bit).
<p>
Please report any bugs or wishes related to rJava or JRI using the <a href="https://www.rforge.net/cgi-bin/bugzilla/enter_bug.cgi?product=rJava">Bugzilla for rJava</a>.
<p>
<font color=#a00000><b>Important:</b> JRI is now part of <a href=/rJava/>rJava</a>, so if you simply want to use JRI, install <b>rJava</b> binary and your'e all set! There will be no further stand-alone JRI releases, JRI is now released only as a part of rJava.</font><br>To locate JRI installed with rJava, use <tt>system.file("jri",package="rJava")</tt> in R.
</td></tr>
<tr><td colspan=2><b>What's new?</b></td></tr>
<tr><td></td><td>
See <a href=/rJava/>rJava</a> pages for latest release information.
<!--
<b>2007/01/14 - JRI 0.3-7</b> released<br>
...<br>
<b>2006/05/31 - JRI 0.3-0</b> released<br>
...<br>
<b>2005/05/06 - JRI 0.2-4</b> released. JRI is now also supplied as a part of <a href=/rJava/>rJava 0.4</a> on CRAN.<br>
<p>
<b>2005/12/19 - JRI 0.2-0</b> is released.<br>
The new JRI uses autoconf to detect Java and R. It also adds support for 64-bit platforms. The Java-side API does not change, so it still reports 0x103 as API version number.
<p>
<b>2005/05/09 - JRI 0.1-3</b> is released<br>
Added support for R 2.1.x and removed dependency on R sources alltogether. Examples have been cleaned up. -->
</td></tr>
<tr><td colspan=2><b>Download</b></td></tr>
<tr><td></td><td>
<p>
Current release: <b>JRI 0.5-0</b> - available as a part of <a href=/rJava/>rJava</a>
<!-- <a href=/JRI/files/>JRI_0.5-1.tar.gz</a> (use SVN for latest sources since JRI is now released through rJava only!) -->
<p>
The best source for the latest stand-alone JRI (without rJava) is the <a href=/JRI/svn.html>SVN</a> or <a href=/JRI/files/>files section</a>.
</td></tr>
<tr><td colspan=2><b>Documentation</b></td></tr>
<tr><td></td><td>
<p>
Most functions are documented by <a href=/org/docs/>JavaDoc</a> (see <tt>org.rosuda.JRI</tt> and <tt>org.rosuda.REngine</tt>). For documentation concerning the installation, see the following sections.
<p>
There are simple examples in the <tt>examples</tt> directory of the tar ball.
</td></tr>
<tr><td colspan=2><b>Installation</b></td></tr>
<tr><td></td><td>
JRI comes bundled with rJava, so the best way is to simply install rJava. It is available from CRAN, so you can use
<div id=RC class=RC><tt>install.packages("rJava")</tt></div>
in R.
<p>
You can also build JRI from sources of the JRI tar ball if desired as follows:
<p>
<b>Unix platforms</b> (incl. Mac OS X)<br>
Since the 0.2 release, installation follows the standard autoconf pattern:
<div id=RC class=RC><tt>./configure<br>
make</tt></div>
You will need <b>R 2.x</b> and <b>JDK 1.4</b> or later (for Linux <b>JDK 1.5</b> is required due to fatal bugs in JDK 1.4 and for 64-bit Linux <b>JDK 2.6</b> is required). The <tt>configure</tt> script attempts to find a working JDK and R - both should be on your PATH preferably (i.e. typing <tt>java</tt> and <tt>R</tt> should both work). If the auto-detection doesn't work, you can set <tt>JAVA_HOME</tt> and/or <tt>R_HOME</tt> variables correspondingly.
<p>
To run the supplied examples, you can type
<div id=RC class=RC><tt>./run rtest<br>
./run rtest2</tt></div>
<p>
If you have your own code, you can set <tt>CLASSPATH</tt> variable accordingly and use the <tt>run</tt> script to launch your code.
<p>
<b>Windows</b><br>
On Windows you will need the same tools necesasry for building R in order to build JRI (i.e. MinGW and the /bin toolset to the least). The you can use
<div id=RC class=RC><tt>sh configure.win<br>
make</tt></div>
to build JRI. Again, the configuration is fully automatic (you will need R registry entries, but those are present if you installed R using the Windows installer with default settings). You can set the same variaibles as in the unix case, because the building process is identical. As a part of the <tt>make</tt> process a run script <tt>run.bat</tt> is generated. It is recommended to use the script or its variations when starting your JRI programs.
<p>
For more enhanced launcher strategy, see <a href=/JGR/>JGR</a> launcher for Windows that automatically detects the paths to R and JRE.

<style type="text/css"> tt {color: #000080} #RC {background-color: #e0e0ff; border: 2px solid #c0c0ff; padding: 10px; margin: 7px}</style>
<p>
</td></tr>
<tr><td colspan=2><b>FAQ</b></td></tr>
<tr><td></td><td>
<table cellspacing=1 cellpadding=1 border=0>
<tr valign=top><td>Q:</td><td>...</td></tr><tr valign=top><td>A:</td><td>Hold on, did you actually notice the README file? No? Well, please, have a look at it, too.
<p>
</td></tr>
<tr valign=top><td>Q:</td><td>
<i>There are no examples!</i>
</td></tr><tr valign=top><td>A:</td><td>
There actually are examples in the <tt>examples</tt> directory of JRI and they are even compiled by default so you can try them right away.
<p>
</td></tr><tr valign=top><td>Q:</td><td>
<i>Do I need a good knowledge of R to use JRI?</i>
</td></tr><tr valign=top><td>A:</td><td>
JRI version 0.2 and earlier provide low-level API only, which is comparable to the C API that R provides. This implies that at least some knowledge of R internals is required.<br>However, JRI version 0.3 introduces higher-level API which you may be familiar with from the JRclient of <a href=/Rserve/>Rserve</a>. Unless you want to use more advanced features of JRI (such as running the event loop and registering own callbacks), basic knowledge of R should be sufficient.
<p>
</td></tr><tr valign=top><td>Q:</td><td>
<i>I get the following error, what's wrong?<br>
<tt>java.lang.UnsatisfiedLinkError: no jri in java.library.path</tt></i>
</td></tr><tr valign=top><td>A:</td><td>
Usually it means that you didn't setup the necessary environment variables properly or the JRI library is not where it is expected to be. The recommended way to start JRI programs is to use the <tt>run</tt> script which is generated along with the library. It sets everything up and is tested to work. If you want to write your own script or launcher, you must observe at least the following points:
<ul><li><tt>R_HOME</tt> must be set correctly</li>
<li>(Windows): The directory containing <tt>R.dll</tt> must be in your <tt>PATH</tt></li>
<li>(Mac): Well, it's a Mac, so it just works ;).</li>
<li>(unix): R must be compiled using <tt>--enable-R-shlib</tt> and the directory containing <tt>libR.so</tt> must be in <tt>LD_LIBRARY_PATH</tt>. Also <tt>libjvm.so</tt> and other dependent Java libraries must be on <tt>LD_LIBRARY_PATH</tt>.</li>
<li>JRI library must be in the current directory or any directory listed in <tt>java.library.path</tt>. Alternatively you can specify its path with <br><tt>-Djava.library.path=</tt> when starting the JVM. When you use the latter, make sure you check <tt>java.library.path</tt> property first such that you won't break your Java.</li>
<li>Depending on your system, the R verison and other features you want to use, you may have to set additional settings such as <tt>R_SHARE_DIR</tt>, <tt>R_INCLUDE_DIR</tt> and <tt>R_DOC_DIR</tt>.
</ul>
Again, I don't think you want to worry about all of the above - just use the start script!
<p>
</td></tr>
</table> <!--FAQ-->

</tr></tr>
</table>
</td></tr></table>
</div>
</body>
</html>

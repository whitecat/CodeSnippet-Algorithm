

<html>
  <head>
    <title>Java Reflection: Private Fields and Methods</title>
    <link rel="stylesheet" type="text/css" href="/stylesheet.jsp" >
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds2.feedburner.com/jenkov-com?format=xml" />
    <meta name="blogcatalog" content="9BC9362114" /> 

    
<META NAME="Title" CONTENT="Java Reflection: Acessing Private Fields and Methods">
<META NAME="Description" CONTENT="This text explains how to access private fields and methods at runtime using Java Reflection">
<META NAME="Keywords" CONTENT="java reflection tutorial access accessing private fields methods">
<META NAME="Robots" CONTENT="ALL">

<META NAME="DC.Title" CONTENT="Java Reflection: Acessing Private Fields and Methods">
<META NAME="DC.Description" CONTENT="This text explains how to access private fields and methods at runtime using Java Reflection">
<META NAME="DC.Subject" CONTENT="Java Reflection: Acessing Private Fields and Methods">
<LINK REL="schema.dc" HREF="http://purl.org/metadata/dublin_core_elements">
  </head>

  
  <body topmargin="0" leftmargin="0" bgcolor="#999999" rightmargin="0" bottommargin="0">
  
  <script type="text/javascript">
  window.google_analytics_uacct = "UA-4036229-3";
  </script>
  
   <table cellspacing="0" cellpadding="0" border="0" width="900" height="100%" align="center" bgcolor="#ffffff">
     

<tr><td width="21"><img src="/images/layout/top-bar-left-edge2.png"/></td>
    <td width="55" background="/images/layout/top-bar-mid-stripes.png">&nbsp;</td>
    <td width="345" background="/images/layout/top-bar-mid.png" style="padding-top: 2px;">
       <span class="topmenu"><nobr>
          &nbsp;&nbsp;&nbsp;
   
   <a href="http://tutorials.jenkov.com" class="topmenu">TUTORIALS</a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;
   <a href="http://butterfly.jenkov.com" class="topmenu">BUTTERFLY COMPONENTS</a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;
   <a href="http://jenkov.com/about/index.html" class="topmenu">ABOUT</a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;
   <a href="http://feeds2.feedburner.com/jenkov-com" class="topmenu">RSS</a>&nbsp;&nbsp;&nbsp;
    </nobr>
</span> 

    </td>
    <td width="106" background="/images/layout/top-bar-mid-stripes.png">&nbsp;</td>
    <td width="298" background="/images/layout/top-bar-logo.png" align="right"><a href="http://jenkov.com"><img src="/images/transparent.gif" width="298" height="45" border="0"></a>
        <a href="http://jenkov.com"><span style="color: #ffffff; padding-right: 8px; font-weight: normal;">A Voice in the Buzz on Software</span></a>
    </td>
    <td width="4"><img src="/images/layout/top-bar-mid.png" width="4" height="65"/></td>
    <td width="50"><img src="/images/layout/top-bar-mid-stripes.png" width="50" height="65"/></td>
    <td width="21"><img src="/images/layout/top-bar-right-edge2.png"/></td>
</tr>

<tr><td height="18"><img src="/images/layout/divider-left-edge.png" width="21" height="18"/></td>
    <td background="/images/layout/divider-mid.png" colspan="6"></td>
    <td><img src="/images/layout/divider-right-edge.png"/></td>
</tr>



      <!-- boxes -->
     <tr><td height="100%"><img src="/images/layout/body-left-edge.png" width="21" height="100%"/></td>
         <td colspan="6" valign="top" style="padding-left: 10px; padding-top:0px;">
             <table cellspacing="0" cellpadding="0" border="0" width="830">
                 <tr>

                 
                 <td valign="top" style="padding-left: 20px; padding-top:10px; padding-right:20px">
                     
                         
                     
                     <br/>    
                     

<h1>Java Reflection: Private Fields and Methods</h1>


<table cellpadding="0" width="100%" border="0" cellspacing="0">
    <tr><td width="5" height="20"></td>
        <td>
            <table cellspacing="2" cellpadding="0">
                <tr><td><img src="http://jenkov.com/images/20081123-20081123-3E1W7902-small-portrait.jpg"></td>
                    <td width="26"></td>
                    <td align="center" valign="top">
                    <script type="text/javascript">var dzone_style = '1';</script>
                    <script language="javascript" src="http://widgets.dzone.com/widgets/zoneit.js"></script>
                    </td>
                </tr>
                <tr><td><span class="author">By <a target="jakob-jenkov" href="http://jakob.jenkov.com">Jakob Jenkov</a></span></td>
                </tr>
            </table>
        </td>
        <td align="right" rowspan="4" valign="top" id="Ads-1">
             
                <script type="text/javascript"><!--
                google_ad_client = "pub-5569543489255665";
                /* tutorials-reflection-1 */
                google_ad_slot = "1069432440";
                google_ad_width = 300;
                google_ad_height = 250;
                //-->
                </script>
                <script type="text/javascript"
                src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
                </script>
            
        </td>
    </tr>
    <tr ><td valign="top">
        </td>
    </tr>
    <tr><td height="10"></td></tr>
    <tr><td valign="top" colspan="2"><table cellspacing="0" cellpadding="0" border="0" widthx="180">
    <tr>
    
        <td valign="bottom" align="left">
            <a href="javascript:window.location = 'http://www.socialmarker.com/?link='+encodeURIComponent (location.href)+'&title='+encodeURIComponent( document.title);"><img src= "http://www.socialmarker.com/bookmark.gif" border="0" /></a>
            <br/>
        </td>
    </tr>
<tr><td height="2" colspan="2"></td></tr>
<tr><td colspan="2"><a href="http://feeds2.feedburner.com/~r/jenkov-com/~6/5"><img src="http://feeds2.feedburner.com/jenkov-com.5.gif" alt="Jenkov.com - News" style="border:0"></a></td></tr>
</table>

</td></tr>
</table>

<p>
   Despite the common belief it is actually possible to access private fields and methods
   of other classes via Java Reflection. It is not even that difficult. This can be
    very handy during unit testing. This text will show you how.
</p>

<p>
    Note: This only works when running the code as a standalone
    Java application, like you do with unit tests and regular applications.
    If you try to do this inside a Java Applet, you will need to fiddle
    around with the SecurityManager. But, since that is not something you
    need to do very often, it is left out of this text so far.
</p>

<p>
    Here is a list of the topics covered in this text:
</p>

<ol>
    <li><a href="#fields">Accessing Private Fields</a></li>
    <li><a href="#methods">Accessing Private Methods</a></li>
</ol>


<a name="fields"></a>
<br/>
<h2>Accessing Private Fields</h2>
<p>
    To access a private field you will need to call the <code>Class.getDeclaredField(String name)</code>
    or <code>Class.getDeclaredFields()</code> method. The methods <code>Class.getField(String name)</code>
    and <code>Class.getFields()</code> methods only return public fields, so they won't work.
    Here is a simple example of a class with a private field, and below that the code to access that
    field via Java Reflection:
</p>

<pre class="codeBox">
public class PrivateObject {

  private String privateString = null;

  public PrivateObject(String privateString) {
    this.privateString = privateString;
  }
}
</pre>

<pre class="codeBox">
PrivateObject privateObject = new PrivateObject("The Private Value");

Field privateStringField = PrivateObject.class.
            getDeclaredField("privateString");

<b>privateStringField.setAccessible(true);</b>

String fieldValue = (String) privateStringField.get(privateObject);
System.out.println("fieldValue = " + fieldValue);
</pre>

<p>
    This code example will print out the text "fieldValue = The Private Value", which
    is the value of the private field <code>privateString</code> of the <code>PrivateObject</code>
    instance created at the beginning of the code sample.
</p>

<p>
    Notice the use of the method <code>PrivateObject.class.getDeclaredField("privateString")</code>.
    It is this method call that returns the private field. This method only returns fields declared
    in that particular class, not fields declared in any superclasses.
</p>

<p>
    Notice the line in bold too. By calling <code>Field.setAcessible(true)</code> you turn
    off the access checks for this particular <code>Field</code> instance, for reflection only.
    Now you can access it even if it is private, protected or package scope, even if
    the caller is not part of those scopes.
    You still can't access the field using normal code. The compiler won't allow it.
</p>


<a name="methods"></a>
<br/>
<h2>Accessing Private Methods</h2>

<p>
    To access a private method you will need to call the <code>Class.getDeclaredMethod(String name, Class[] parameterTypes)</code>
    or <code>Class.getDeclaredMethods()</code> method. The methods <code>Class.getMethod(String name, Class[] parameterTypes)</code>
    and <code>Class.getMethods()</code> methods only return public methods, so they won't work.
    Here is a simple example of a class with a private method, and below that the code to access that
    method via Java Reflection:
</p>

<pre class="codeBox">
public class PrivateObject {

  private String privateString = null;

  public PrivateObject(String privateString) {
    this.privateString = privateString;
  }

  private String getPrivateString(){
    return this.privateString;
  }
}
</pre>

<pre class="codeBox">
PrivateObject privateObject = new PrivateObject("The Private Value");

Method privateStringMethod = PrivateObject.class.
        getDeclaredMethod("getPrivateString", null);

<b>privateStringMethod.setAccessible(true);</b>

String returnValue = (String)
        privateStringMethod.invoke(privateObject, null);
    
System.out.println("returnValue = " + returnValue);
</pre>

<p>
    This code example will print out the text "returnValue = The Private Value", which
    is the value returned by the method <code>getPrivateString()</code> when invoked on
    the <code>PrivateObject</code>  instance created at the beginning of the code sample.
</p>

<p>
    Notice the use of the method <code>PrivateObject.class.getDeclaredMethod("privateString")</code>.
    It is this method call that returns the private method. This method only returns methods declared
    in that particular class, not methods declared in any superclasses.
</p>

<p>
    Notice the line in bold too. By calling <code>Method.setAcessible(true)</code> you turn
    off the access checks for this particular <code>Method</code> instance, for reflection only.
    Now you can access it even if it is private, protected or package scope, even if
    the caller is not part of those scopes.
    You still can't access the method using normal code. The compiler won't allow it.
</p>

<br/>
<p>
<img src="/images/arrow-right-light-medium.png" alt="Next"><a href="annotations.html">Next : Annotations</a>
</p>
                     <br/><br/>
                     <a href="#top"><img src="/images/top.png" border="0"/> Back to Top</a>
                     <br/><br/>

                     <script type="text/javascript"><!--
google_ad_client = "pub-5569543489255665";
/* tutorials-reflection-3 */
google_ad_slot = "6707172570";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

                 </td>
                 
                     <td valign="top" align="center" width="250" bgcolor="#eeeeee" style="border-left: 1px solid #dddddd; border-right: 1px solid #dddddd;"><table cellspacing="2" border="0" style="padding-right: 10px;" bgcolor="#ffffff" style="border-bottomx: 1px solid #dddddd; border-left-x: 1px solid #dddddd;" width="100%">
    <tr>
        <!--<td colspan="2"><img src="/images/toc.png" alt="Table of Contents"/></td>-->
        <td colspan="3" style="padding-top:10px;"><span class="trailhead">Java Reflection</span></td>
    </tr>
    <tr><td height="5"></td></tr>
    <tr>
        <td width="10"></td>
        <td style="padding-right: 4px;" valign="top"><img src="/images/arrow-right-light-medium.png" alt=""></td>
        <td style="padding-top: 2px;"><a href="index.html">Introduction to Java Reflection</a></td>
    </tr>
    <tr>
        <td width="10"></td>
        <td style="padding-right: 4px;" valign="top"><img src="/images/arrow-right-light-medium.png" alt=""></td>
        <td style="padding-top: 2px;"><a href="classes.html">Classes</a></td>
    </tr>
    <tr>
        <td width="10"></td>
        <td style="padding-right: 4px;" valign="top"><img src="/images/arrow-right-light-medium.png" alt=""></td>
        <td style="padding-top: 2px;"><a href="constructors.html">Constructors</a></td>
    </tr>
    <tr>
        <td width="10"></td>
        <td style="padding-right: 4px;" valign="top"><img src="/images/arrow-right-light-medium.png" alt=""></td>
        <td style="padding-top: 2px;"><a href="fields.html">Fields</a></td>
    </tr>
    <tr>
        <td width="10"></td>
        <td style="padding-right: 4px;" valign="top"><img src="/images/arrow-right-light-medium.png" alt=""></td>
        <td style="padding-top: 2px;"><a href="methods.html">Methods</a></td>
    </tr>
    <tr>
        <td width="10"></td>
        <td style="padding-right: 4px;" valign="top"><img src="/images/arrow-right-light-medium.png" alt=""></td>
        <td style="padding-top: 2px;"><a href="getters-setters.html">Getters and Setters</a></td>
    </tr>
    <tr>
        <td width="10"></td>
        <td style="padding-right: 4px;" valign="top"><img src="/images/arrow-right-light-medium.png" alt=""></td>
        <td style="padding-top: 2px;"><a href="private-fields-and-methods.html">Private Fields and Methods</a></td>
    </tr>
    <tr>
        <td width="10"></td>
        <td style="padding-right: 4px;" valign="top"><img src="/images/arrow-right-light-medium.png" alt=""></td>
        <td style="padding-top: 2px;"><a href="annotations.html">Annotations</a></td>
    </tr>
    <tr>
        <td width="10"></td>
        <td style="padding-right: 4px;" valign="top"><img src="/images/arrow-right-light-medium.png" alt=""></td>
        <td style="padding-top: 2px;"><a href="generics.html">Generics</a></td>
    </tr>
    <tr>
        <td width="10"></td>
        <td style="padding-right: 4px;" valign="top"><img src="/images/arrow-right-light-medium.png" alt=""></td>
        <td style="padding-top: 2px;"><a href="arrays.html">Arrays</a></td>
    </tr>
    <tr>
        <td width="10"></td>
        <td style="padding-right: 4px;" valign="top"><img src="/images/arrow-right-light-medium.png" alt=""></td>
        <td style="padding-top: 2px;"><a href="dynamic-proxies.html">Dynamic Proxies</a></td>
    </tr>
    <tr>
        <td width="10"></td>
        <td style="padding-right: 4px;" valign="top"><img src="/images/arrow-right-light-medium.png" alt=""></td>
        <td style="padding-top: 2px;"><a href="dynamic-class-loading-reloading.html">Dynamic Class Loading and Reloading</a></td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    
</table>


                 




               
                         <style>
                         .signupframe {
                           border: 1px solid #000000;
                           background: #ffffff;
                           color: #002d62;
                           font-family: Arial, Helvetica, sans-serif;
                         }
                         </style>
                         <form method=post action="http://app.icontact.com/icp/signup.php" name="icpsignup" accept-charset="UTF-8" onsubmit="return verifyRequired();" >
                         <input type=hidden name=redirect value="http://jenkov.com/about/sign-up-thank-you.html" />
                         <input type=hidden name=errorredirect value="http://www.icontact.com//www/signup/error.html" />
                         <script type="text/javascript">
                         function verifyRequired() {
                           if (document.icpsignup["fields_fname"].value == "") {
                             document.icpsignup["fields_fname"].focus();
                             alert("The First Name field is required.");
                             return false;
                           }
                           if (document.icpsignup["fields_lname"].value == "") {
                             document.icpsignup["fields_lname"].focus();
                             alert("The Last Name field is required.");
                             return false;
                           }
                           if (document.icpsignup["fields_email"].value == "") {
                             document.icpsignup["fields_email"].focus();
                             alert("The Email field is required.");
                             return false;
                           }


                         return true;
                         }
                         </script>
                         <div id="SignUp">
                         <table width="100%" class="signupframe" border="0" cellspacing="0" cellpadding="5">
                             <tr><td colspan="2"><font color="red"><b>Jakob Jenkov's Free Tips & Tutorials!</b></font></td></tr>
                             <tr><td colspan="2" valign="top"><img src="http://jenkov.com/images/20081123-20081123-3E1W7902-small-portrait.jpg" align="right">
                                 Sign up for my news letter or <a href="http://feeds2.feedburner.com/jenkov-com" target="_blank">RSS feed</a>, and I'll personally be providing you with quality tutorials relevant to Java and Flex developers
                                 and help you uncover the little tips and tricks that makes a developers life easier and more fun.
                                 Sign up today, and start learning right away!
                                 </td></tr>
                             <tr>
                               <td valign=top align=right>
                                 <font size="1" face="Arial,Helvetica, sans-serif">*</font> <font size="2">First Name</font>
                               </td>
                               <td align=left>
                                 <input type=text name="fields_fname">
                               </td>
                             </tr>
                             <tr>
                               <td valign=top align=right>
                                 <font size="1" face="Arial,Helvetica, sans-serif">*</font> <font size="2">Last Name</font>
                               </td>
                               <td align=left>
                                 <input type=text name="fields_lname">
                               </td>
                             </tr>
                             <tr>
                               <td valign=top align=right>
                                 <font size="1" face="Arial,Helvetica, sans-serif">*</font> <font size="2">Email</font>
                               </td>
                               <td align=left>
                                 <input type=text name="fields_email">
                               </td>
                             </tr>
                             <input type=hidden name="listid" value="9579">
                             <input type=hidden name="specialid:9579" value="SW15">

                             <input type=hidden name=clientid value="435086">
                             <input type=hidden name=formid value="587">
                             <input type=hidden name=reallistid value="1">
                             <input type=hidden name=doubleopt value="1">
                             <tr>
                               <td> </td>
                               <td><input type="submit" name="Submit" value="Yes, give me tips!"></td>
                             </tr>
                             <tr><td colspan="2" align="center"><a href="http://feeds2.feedburner.com/jenkov-com"><img src="http://feeds2.feedburner.com/~fc/jenkov-com?bg=FF9900&amp;fg=000000&amp;anim=0" height="26" width="88" style="border:0" alt="" /></a></td></tr>
                             <tr><td colspan="2" align="center"><a href='http://www.twitter.com/jjenkov'><img border=0 src='http://www.languageisavirus.com/twitterbuttons/small-twitter-buttons/twitter-button-999-x12-languageisavirusdotcom.gif' alt='Follow Me on Twitter'></a></td></tr>
                             </table>
                         </div>
                         </form>


                          
                     <script type="text/javascript"><!--
google_ad_client = "pub-5569543489255665";
/* tutorials-reflection-2 */
google_ad_slot = "0434862597";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
                        <br/><br/>
                     
                 </td>
                 </tr>
             </table>
         </td>
         <td><img src="/images/layout/body-right-edge.png" width="21"  height="100%"/></td>
     </tr>

     <tr><td height="18"><img src="/images/layout/footer-left-edge.png" width="21" height="50"/></td>
         <td background="/images/layout/footer-mid-strips.png" colspan="6"></td>
         <td><img src="/images/layout/footer-right-edge.png"/></td>
     </tr>

   </table>
  </body>
    
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-4036229-3");
    pageTracker._initData();
    pageTracker._trackPageview();
    </script>

</html>
